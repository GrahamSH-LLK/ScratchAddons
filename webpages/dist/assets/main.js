import{_ as we,r as Lt,w as j,v as ne,o as f,c as v,a as r,t as x,b as Qe,d as Fs,e as et,f as Rs,g as Cn,h as js,i as Bs,j as zs,k as D,F as B,l as K,m as re,n as ve,p as _e,q as z,s as Pt,u as be,x as ts,y as tt,z as $e,A as Tn,B as ns,T as Hs,C as Us,D as Vs,E as Ws}from"./main2.js";import{_ as vn}from"./popout.js";const Gs=()=>new Promise((t,e)=>{setTimeout(()=>e("Reached setTimeout while testing storage"),8e3),chrome.storage.sync.get("addonsEnabled",n=>{chrome.runtime.lastError?(console.error(chrome.runtime.lastError),typeof chrome.runtime.lastError.toString=="function"?e(chrome.runtime.lastError.toString()):e("Unknown lastError")):n===null?e("c is null"):typeof n!="object"?e("c is not of type object"):n.addonsEnabled===null?e("c.addonsEnabled is null"):typeof n.addonsEnabled!="object"?e("c.addonsEnabled is not of type object"):Object.keys(n.addonsEnabled).length===0?e("c.addonsEnabled is an empty object"):t()})}),Ys=t=>{const e=new URL(chrome.runtime.getURL("/webpages/error/index.html"));e.searchParams.set("problem","storage"),e.searchParams.set("info",t),location.href=e.href};setTimeout(()=>{Gs().then(()=>console.log("Storage test succeeded")).catch(t=>{Ys(t)})},1500);const Xs=(t,e)=>{const n=document.createElement("a");if(document.body.appendChild(n),navigator.msSaveOrOpenBlob){navigator.msSaveOrOpenBlob(e,t);return}if("download"in HTMLAnchorElement.prototype){const s=window.URL.createObjectURL(e);n.href=s,n.download=t,n.type=e.type,n.click(),window.setTimeout(()=>{document.body.removeChild(n),window.URL.revokeObjectURL(s)},1e3)}else{let s=window.open("","_blank");const o=new FileReader;o.onloadend=function(){s.location.href=o.result,s=null},o.readAsDataURL(e)}};function Ce(t){return Array.isArray?Array.isArray(t):is(t)==="[object Array]"}function Se(t){return typeof t=="string"}function ss(t){return typeof t=="number"}function Ks(t){return t===!0||t===!1||function(e){return os(e)&&e!==null}(t)&&is(t)=="[object Boolean]"}function os(t){return typeof t=="object"}function ue(t){return t!=null}function Wt(t){return!t.trim().length}function is(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const $n=Object.prototype.hasOwnProperty;class qs{constructor(e){this._keys=[],this._keyMap={};let n=0;e.forEach(s=>{let o=as(s);n+=o.weight,this._keys.push(o),this._keyMap[o.id]=o,n+=o.weight}),this._keys.forEach(s=>{s.weight/=n})}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function as(t){let e=null,n=null,s=null,o=1,i=null;if(Se(t)||Ce(t))s=t,e=On(t),n=ln(t);else{if(!$n.call(t,"name"))throw new Error((d=>`Missing ${d} property in key`)("name"));const a=t.name;if(s=a,$n.call(t,"weight")&&(o=t.weight,o<=0))throw new Error((d=>`Property 'weight' in key '${d}' must be a positive integer`)(a));e=On(a),n=ln(a),i=t.getFn}return{path:e,id:n,weight:o,src:s,getFn:i}}function On(t){return Ce(t)?t:t.split(".")}function ln(t){return Ce(t)?t.join("."):t}var C={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(t,e)=>t.score===e.score?t.idx<e.idx?-1:1:t.score<e.score?-1:1,includeMatches:!1,findAllMatches:!1,minMatchCharLength:1,location:0,threshold:.6,distance:100,useExtendedSearch:!1,getFn:function(t,e){let n=[],s=!1;const o=(i,a,d)=>{if(ue(i))if(a[d]){const l=i[a[d]];if(!ue(l))return;if(d===a.length-1&&(Se(l)||ss(l)||Ks(l)))n.push(function(c){return c==null?"":function(h){if(typeof h=="string")return h;let g=h+"";return g=="0"&&1/h==-1/0?"-0":g}(c)}(l));else if(Ce(l)){s=!0;for(let c=0,h=l.length;c<h;c+=1)o(l[c],a,d+1)}else a.length&&o(l,a,d+1)}else n.push(i)};return o(t,Se(e)?e.split("."):e,0),s?n:n[0]},ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};const Js=/[^ ]+/g;class bn{constructor({getFn:e=C.getFn,fieldNormWeight:n=C.fieldNormWeight}={}){this.norm=function(s=1,o=3){const i=new Map,a=Math.pow(10,o);return{get(d){const l=d.match(Js).length;if(i.has(l))return i.get(l);const c=1/Math.pow(l,.5*s),h=parseFloat(Math.round(c*a)/a);return i.set(l,h),h},clear(){i.clear()}}}(n,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach((n,s)=>{this._keysMap[n.id]=s})}create(){!this.isCreated&&this.docs.length&&(this.isCreated=!0,Se(this.docs[0])?this.docs.forEach((e,n)=>{this._addString(e,n)}):this.docs.forEach((e,n)=>{this._addObject(e,n)}),this.norm.clear())}add(e){const n=this.size();Se(e)?this._addString(e,n):this._addObject(e,n)}removeAt(e){this.records.splice(e,1);for(let n=e,s=this.size();n<s;n+=1)this.records[n].i-=1}getValueForItemAtKeyId(e,n){return e[this._keysMap[n]]}size(){return this.records.length}_addString(e,n){if(!ue(e)||Wt(e))return;let s={v:e,i:n,n:this.norm.get(e)};this.records.push(s)}_addObject(e,n){let s={i:n,$:{}};this.keys.forEach((o,i)=>{let a=o.getFn?o.getFn(e):this.getFn(e,o.path);if(ue(a)){if(Ce(a)){let d=[];const l=[{nestedArrIndex:-1,value:a}];for(;l.length;){const{nestedArrIndex:c,value:h}=l.pop();if(ue(h))if(Se(h)&&!Wt(h)){let g={v:h,i:c,n:this.norm.get(h)};d.push(g)}else Ce(h)&&h.forEach((g,m)=>{l.push({nestedArrIndex:m,value:g})})}s.$[i]=d}else if(Se(a)&&!Wt(a)){let d={v:a,n:this.norm.get(a)};s.$[i]=d}}}),this.records.push(s)}toJSON(){return{keys:this.keys,records:this.records}}}function rs(t,e,{getFn:n=C.getFn,fieldNormWeight:s=C.fieldNormWeight}={}){const o=new bn({getFn:n,fieldNormWeight:s});return o.setKeys(t.map(as)),o.setSources(e),o.create(),o}function pt(t,{errors:e=0,currentLocation:n=0,expectedLocation:s=0,distance:o=C.distance,ignoreLocation:i=C.ignoreLocation}={}){const a=e/t.length;if(i)return a;const d=Math.abs(s-n);return o?a+d/o:d?1:a}function Zs(t,e,n,{location:s=C.location,distance:o=C.distance,threshold:i=C.threshold,findAllMatches:a=C.findAllMatches,minMatchCharLength:d=C.minMatchCharLength,includeMatches:l=C.includeMatches,ignoreLocation:c=C.ignoreLocation}={}){if(e.length>32)throw new Error("Pattern length exceeds max of 32.");const h=e.length,g=t.length,m=Math.max(0,Math.min(s,g));let u=i,p=m;const b=d>1||l,E=b?Array(g):[];let _;for(;(_=t.indexOf(e,p))>-1;){let G=pt(e,{currentLocation:_,expectedLocation:m,distance:o,ignoreLocation:c});if(u=Math.min(G,u),p=_+h,b){let X=0;for(;X<h;)E[_+X]=1,X+=1}}p=-1;let I=[],T=1,A=h+g;const H=1<<h-1;for(let G=0;G<h;G+=1){let X=0,N=A;for(;X<N;)pt(e,{errors:G,currentLocation:m+N,expectedLocation:m,distance:o,ignoreLocation:c})<=u?X=N:A=N,N=Math.floor((A-X)/2+X);A=N;let ie=Math.max(1,m-N+1),V=a?g:Math.min(m+N,g)+h,Q=Array(V+2);Q[V+1]=(1<<G)-1;for(let F=V;F>=ie;F-=1){let ee=F-1,w=n[t.charAt(ee)];if(b&&(E[ee]=+!!w),Q[F]=(Q[F+1]<<1|1)&w,G&&(Q[F]|=(I[F+1]|I[F])<<1|1|I[F+1]),Q[F]&H&&(T=pt(e,{errors:G,currentLocation:ee,expectedLocation:m,distance:o,ignoreLocation:c}),T<=u)){if(u=T,p=ee,p<=m)break;ie=Math.max(1,2*m-p)}}if(pt(e,{errors:G+1,currentLocation:m,expectedLocation:m,distance:o,ignoreLocation:c})>u)break;I=Q}const Z={isMatch:p>=0,score:Math.max(.001,T)};if(b){const G=function(X=[],N=C.minMatchCharLength){let ie=[],V=-1,Q=-1,F=0;for(let ee=X.length;F<ee;F+=1){let w=X[F];w&&V===-1?V=F:w||V===-1||(Q=F-1,Q-V+1>=N&&ie.push([V,Q]),V=-1)}return X[F-1]&&F-V>=N&&ie.push([V,F-1]),ie}(E,d);G.length?l&&(Z.indices=G):Z.isMatch=!1}return Z}function Qs(t){let e={};for(let n=0,s=t.length;n<s;n+=1){const o=t.charAt(n);e[o]=(e[o]||0)|1<<s-n-1}return e}class ls{constructor(e,{location:n=C.location,threshold:s=C.threshold,distance:o=C.distance,includeMatches:i=C.includeMatches,findAllMatches:a=C.findAllMatches,minMatchCharLength:d=C.minMatchCharLength,isCaseSensitive:l=C.isCaseSensitive,ignoreLocation:c=C.ignoreLocation}={}){if(this.options={location:n,threshold:s,distance:o,includeMatches:i,findAllMatches:a,minMatchCharLength:d,isCaseSensitive:l,ignoreLocation:c},this.pattern=l?e:e.toLowerCase(),this.chunks=[],!this.pattern.length)return;const h=(m,u)=>{this.chunks.push({pattern:m,alphabet:Qs(m),startIndex:u})},g=this.pattern.length;if(g>32){let m=0;const u=g%32,p=g-u;for(;m<p;)h(this.pattern.substr(m,32),m),m+=32;if(u){const b=g-32;h(this.pattern.substr(b),b)}}else h(this.pattern,0)}searchIn(e){const{isCaseSensitive:n,includeMatches:s}=this.options;if(n||(e=e.toLowerCase()),this.pattern===e){let p={isMatch:!0,score:0};return s&&(p.indices=[[0,e.length-1]]),p}const{location:o,distance:i,threshold:a,findAllMatches:d,minMatchCharLength:l,ignoreLocation:c}=this.options;let h=[],g=0,m=!1;this.chunks.forEach(({pattern:p,alphabet:b,startIndex:E})=>{const{isMatch:_,score:I,indices:T}=Zs(e,p,b,{location:o+E,distance:i,threshold:a,findAllMatches:d,minMatchCharLength:l,includeMatches:s,ignoreLocation:c});_&&(m=!0),g+=I,_&&T&&(h=[...h,...T])});let u={isMatch:m,score:m?g/this.chunks.length:1};return m&&s&&(u.indices=h),u}}class De{constructor(e){this.pattern=e}static isMultiMatch(e){return Dn(e,this.multiRegex)}static isSingleMatch(e){return Dn(e,this.singleRegex)}search(){}}function Dn(t,e){const n=t.match(e);return n?n[1]:null}class ds extends De{constructor(e,{location:n=C.location,threshold:s=C.threshold,distance:o=C.distance,includeMatches:i=C.includeMatches,findAllMatches:a=C.findAllMatches,minMatchCharLength:d=C.minMatchCharLength,isCaseSensitive:l=C.isCaseSensitive,ignoreLocation:c=C.ignoreLocation}={}){super(e),this._bitapSearch=new ls(e,{location:n,threshold:s,distance:o,includeMatches:i,findAllMatches:a,minMatchCharLength:d,isCaseSensitive:l,ignoreLocation:c})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}}let cs=class extends De{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let n,s=0;const o=[],i=this.pattern.length;for(;(n=e.indexOf(this.pattern,s))>-1;)s=n+i,o.push([n,s-1]);const a=!!o.length;return{isMatch:a,score:a?0:1,indices:o}}};const dn=[class extends De{constructor(t){super(t)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(t){const e=t===this.pattern;return{isMatch:e,score:e?0:1,indices:[0,this.pattern.length-1]}}},cs,class extends De{constructor(t){super(t)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(t){const e=t.startsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,this.pattern.length-1]}}},class extends De{constructor(t){super(t)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(t){const e=!t.startsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,t.length-1]}}},class extends De{constructor(t){super(t)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(t){const e=!t.endsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,t.length-1]}}},class extends De{constructor(t){super(t)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(t){const e=t.endsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[t.length-this.pattern.length,t.length-1]}}},class extends De{constructor(t){super(t)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(t){const e=t.indexOf(this.pattern)===-1;return{isMatch:e,score:e?0:1,indices:[0,t.length-1]}}},ds],An=dn.length,eo=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,to=new Set([ds.type,cs.type]);let no=class{constructor(e,{isCaseSensitive:n=C.isCaseSensitive,includeMatches:s=C.includeMatches,minMatchCharLength:o=C.minMatchCharLength,ignoreLocation:i=C.ignoreLocation,findAllMatches:a=C.findAllMatches,location:d=C.location,threshold:l=C.threshold,distance:c=C.distance}={}){this.query=null,this.options={isCaseSensitive:n,includeMatches:s,minMatchCharLength:o,findAllMatches:a,ignoreLocation:i,location:d,threshold:l,distance:c},this.pattern=n?e:e.toLowerCase(),this.query=function(h,g={}){return h.split("|").map(m=>{let u=m.trim().split(eo).filter(b=>b&&!!b.trim()),p=[];for(let b=0,E=u.length;b<E;b+=1){const _=u[b];let I=!1,T=-1;for(;!I&&++T<An;){const A=dn[T];let H=A.isMultiMatch(_);H&&(p.push(new A(H,g)),I=!0)}if(!I)for(T=-1;++T<An;){const A=dn[T];let H=A.isSingleMatch(_);if(H){p.push(new A(H,g));break}}}return p})}(this.pattern,this.options)}static condition(e,n){return n.useExtendedSearch}searchIn(e){const n=this.query;if(!n)return{isMatch:!1,score:1};const{includeMatches:s,isCaseSensitive:o}=this.options;e=o?e:e.toLowerCase();let i=0,a=[],d=0;for(let l=0,c=n.length;l<c;l+=1){const h=n[l];a.length=0,i=0;for(let g=0,m=h.length;g<m;g+=1){const u=h[g],{isMatch:p,indices:b,score:E}=u.search(e);if(!p){d=0,i=0,a.length=0;break}if(i+=1,d+=E,s){const _=u.constructor.type;to.has(_)?a=[...a,...b]:a.push(b)}}if(i){let g={isMatch:!0,score:d/i};return s&&(g.indices=a),g}}return{isMatch:!1,score:1}}};const cn=[];function un(t,e){for(let n=0,s=cn.length;n<s;n+=1){let o=cn[n];if(o.condition(t,e))return new o(t,e)}return new ls(t,e)}const yn="$and",so="$or",Ln="$path",oo="$val",Gt=t=>!(!t[yn]&&!t[so]),Pn=t=>({[yn]:Object.keys(t).map(e=>({[e]:t[e]}))});function io(t,e,{auto:n=!0}={}){const s=o=>{let i=Object.keys(o);const a=(l=>!!l[Ln])(o);if(!a&&i.length>1&&!Gt(o))return s(Pn(o));if((l=>!Ce(l)&&os(l)&&!Gt(l))(o)){const l=a?o[Ln]:i[0],c=a?o[oo]:o[l];if(!Se(c))throw new Error((g=>`Invalid value for key ${g}`)(l));const h={keyId:ln(l),pattern:c};return n&&(h.searcher=un(c,e)),h}let d={children:[],operator:i[0]};return i.forEach(l=>{const c=o[l];Ce(c)&&c.forEach(h=>{d.children.push(s(h))})}),d};return Gt(t)||(t=Pn(t)),s(t)}function ao(t,e){const n=t.matches;e.matches=[],ue(n)&&n.forEach(s=>{if(!ue(s.indices)||!s.indices.length)return;const{indices:o,value:i}=s;let a={indices:o,value:i};s.key&&(a.key=s.key.src),s.idx>-1&&(a.refIndex=s.idx),e.matches.push(a)})}function ro(t,e){e.score=t.score}class nt{constructor(e,n={},s){this.options={...C,...n},this.options.useExtendedSearch,this._keyStore=new qs(this.options.keys),this.setCollection(e,s)}setCollection(e,n){if(this._docs=e,n&&!(n instanceof bn))throw new Error("Incorrect 'index' type");this._myIndex=n||rs(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){ue(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=()=>!1){const n=[];for(let s=0,o=this._docs.length;s<o;s+=1){const i=this._docs[s];e(i,s)&&(this.removeAt(s),s-=1,o-=1,n.push(i))}return n}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:n=-1}={}){const{includeMatches:s,includeScore:o,shouldSort:i,sortFn:a,ignoreFieldNorm:d}=this.options;let l=Se(e)?Se(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return function(c,{ignoreFieldNorm:h=C.ignoreFieldNorm}){c.forEach(g=>{let m=1;g.matches.forEach(({key:u,norm:p,score:b})=>{const E=u?u.weight:null;m*=Math.pow(b===0&&E?Number.EPSILON:b,(E||1)*(h?1:p))}),g.score=m})}(l,{ignoreFieldNorm:d}),i&&l.sort(a),ss(n)&&n>-1&&(l=l.slice(0,n)),function(c,h,{includeMatches:g=C.includeMatches,includeScore:m=C.includeScore}={}){const u=[];return g&&u.push(ao),m&&u.push(ro),c.map(p=>{const{idx:b}=p,E={item:h[b],refIndex:b};return u.length&&u.forEach(_=>{_(p,E)}),E})}(l,this._docs,{includeMatches:s,includeScore:o})}_searchStringList(e){const n=un(e,this.options),{records:s}=this._myIndex,o=[];return s.forEach(({v:i,i:a,n:d})=>{if(!ue(i))return;const{isMatch:l,score:c,indices:h}=n.searchIn(i);l&&o.push({item:i,idx:a,matches:[{score:c,value:i,norm:d,indices:h}]})}),o}_searchLogical(e){const n=io(e,this.options),s=(d,l,c)=>{if(!d.children){const{keyId:g,searcher:m}=d,u=this._findMatches({key:this._keyStore.get(g),value:this._myIndex.getValueForItemAtKeyId(l,g),searcher:m});return u&&u.length?[{idx:c,item:l,matches:u}]:[]}const h=[];for(let g=0,m=d.children.length;g<m;g+=1){const u=d.children[g],p=s(u,l,c);if(p.length)h.push(...p);else if(d.operator===yn)return[]}return h},o=this._myIndex.records,i={},a=[];return o.forEach(({$:d,i:l})=>{if(ue(d)){let c=s(n,d,l);c.length&&(i[l]||(i[l]={idx:l,item:d,matches:[]},a.push(i[l])),c.forEach(({matches:h})=>{i[l].matches.push(...h)}))}}),a}_searchObjectList(e){const n=un(e,this.options),{keys:s,records:o}=this._myIndex,i=[];return o.forEach(({$:a,i:d})=>{if(!ue(a))return;let l=[];s.forEach((c,h)=>{l.push(...this._findMatches({key:c,value:a[h],searcher:n}))}),l.length&&i.push({idx:d,item:a,matches:l})}),i}_findMatches({key:e,value:n,searcher:s}){if(!ue(n))return[];let o=[];if(Ce(n))n.forEach(({v:i,i:a,n:d})=>{if(!ue(i))return;const{isMatch:l,score:c,indices:h}=s.searchIn(i);l&&o.push({score:c,key:e,value:i,idx:a,norm:d,indices:h})});else{const{v:i,n:a}=n,{isMatch:d,score:l,indices:c}=s.searchIn(i);d&&o.push({score:l,key:e,value:i,norm:a,indices:c})}return o}}nt.version="6.6.2",nt.createIndex=rs,nt.parseIndex=function(t,{getFn:e=C.getFn,fieldNormWeight:n=C.fieldNormWeight}={}){const{keys:s,records:o}=t,i=new bn({getFn:e,fieldNormWeight:n});return i.setKeys(s),i.setIndexRecords(o),i},nt.config=C,function(...t){cn.push(...t)}(no);const Nn=[{id:"recentlyUsed",name:chrome.i18n.getMessage("recentlyUsed"),addonIds:[],expanded:!0,iframeShow:!0,fullscreenShow:!1},{id:"runningOnTab",name:chrome.i18n.getMessage("runningOnThisPage"),addonIds:[],expanded:!0,iframeShow:!0,fullscreenShow:!1},{id:"_iframeSearch",name:"",addonIds:[],expanded:!0,iframeShow:!0,fullscreenShow:!1},{id:"featuredNew",name:chrome.i18n.getMessage("featuredNew"),addonIds:[],expanded:!0,iframeShow:!1,fullscreenShow:!0,customOrder:["new","updated"]},{id:"new",name:chrome.i18n.getMessage("newGroup"),addonIds:[],expanded:new URLSearchParams(window.location.search).get("source")==="updatenotif",iframeShow:!1,fullscreenShow:!0,customOrder:["new","updated"]},{id:"enabled",name:chrome.i18n.getMessage("enabled"),addonIds:[],expanded:!0,iframeShow:!0,fullscreenShow:!0},{id:"recommended",name:chrome.i18n.getMessage("recommended"),addonIds:[],expanded:!0,iframeShow:!1,fullscreenShow:!0},{id:"featured",name:chrome.i18n.getMessage("featured"),addonIds:[],expanded:!0,iframeShow:!1,fullscreenShow:!0},{id:"forums",name:chrome.i18n.getMessage("forums"),addonIds:[],expanded:!1,iframeShow:!1,fullscreenShow:!0},{id:"others",name:chrome.i18n.getMessage("others"),addonIds:[],expanded:!0,iframeShow:!1,fullscreenShow:!0},{id:"beta",name:chrome.i18n.getMessage("beta"),addonIds:[],expanded:!1,iframeShow:!1,fullscreenShow:!0}],lo=[{id:"all",icon:"list",name:chrome.i18n.getMessage("all")},{id:"editor",icon:"puzzle",name:chrome.i18n.getMessage("editorFeatures")},{id:"codeEditor",parent:"editor",icon:"code",name:chrome.i18n.getMessage("codeEditorFeatures")},{id:"costumeEditor",parent:"editor",icon:"brush2",name:chrome.i18n.getMessage("costumeEditorFeatures")},{id:"projectPlayer",parent:"editor",icon:"player",name:chrome.i18n.getMessage("projectPlayerFeatures")},{id:"editorOthers",parent:"editor",icon:"dots",name:chrome.i18n.getMessage("others")},{id:"community",icon:"web",name:chrome.i18n.getMessage("websiteFeatures")},{id:"projectPage",parent:"community",icon:"projectpage",name:chrome.i18n.getMessage("projectPageFeatures")},{id:"profiles",parent:"community",icon:"users",name:chrome.i18n.getMessage("profilesFeatures")},{id:"forums",parent:"community",icon:"forum",name:chrome.i18n.getMessage("forums")},{id:"communityOthers",parent:"community",icon:"dots",name:chrome.i18n.getMessage("others")},{id:"theme",icon:"brush",name:chrome.i18n.getMessage("themes")},{id:"themesForEditor",parent:"theme",icon:"puzzle",name:chrome.i18n.getMessage("editorThemes")},{id:"themesForWebsite",parent:"theme",icon:"web",name:chrome.i18n.getMessage("websiteThemes")},{id:"popup",icon:"popup",name:chrome.i18n.getMessage("popupFeatures"),marginBottom:!0}],co={name:"",description:"",tags:[],_categories:["editor"],_icon:"editor",_displayedAddonId:"",_enabled:!0,_addonId:"example",_groups:["enabled"]},us=[{name:"danger",tooltipText:"dangerTooltip",matchName:"danger",color:"darkred",iframeAlwaysShow:!0},{name:"recommended",tooltipText:"recommendedTooltip",matchName:"recommended",color:"blue"},{name:"new",matchName:"new",color:"purple"},{name:"updated",matchName:"updated",color:"purple"},{name:"updatedWithSettings",matchName:"updatedWithSettings",color:"purple"},{name:"beta",tooltipText:"betaTooltip",matchName:"beta",color:"red",iframeAlwaysShow:!0},{name:"forums",tooltipText:"forumsTooltip",matchName:"forums",color:"green"},{name:"forEditor",matchName:"editor",color:"darkgreen",addonTabShow:{theme:!0}},{name:"forWebsite",matchName:"community",color:"yellow",addonTabShow:{theme:!0}}],uo={includeScore:!0,threshold:.35,ignoreLocation:!0,useExtendedSearch:!0,keys:[{name:"name",weight:1},{name:"_addonId",weight:1},{name:"description",weight:.5},{name:"_english.name",weight:.8},{name:"_english.description",weight:.3},{name:"credits.name",weight:.2},{name:"info.text",weight:.1}]},Fn=[];function wn(t){const e=t.split("-")[0];return Fn.includes(t)||Fn.includes(e)?"rtl":"ltr"}function ho(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var _n={exports:{}};function Sn(){}Sn.prototype={on:function(t,e,n){var s=this.e||(this.e={});return(s[t]||(s[t]=[])).push({fn:e,ctx:n}),this},once:function(t,e,n){var s=this;function o(){s.off(t,o),e.apply(n,arguments)}return o._=e,this.on(t,o,n)},emit:function(t){var e=[].slice.call(arguments,1),n=((this.e||(this.e={}))[t]||[]).slice(),s=0,o=n.length;for(s;s<o;s++)n[s].fn.apply(n[s].ctx,e);return this},off:function(t,e){var n=this.e||(this.e={}),s=n[t],o=[];if(s&&e)for(var i=0,a=s.length;i<a;i++)s[i].fn!==e&&s[i].fn._!==e&&o.push(s[i]);return o.length?n[t]=o:delete n[t],this}};_n.exports=Sn;_n.exports.TinyEmitter=Sn;var go=_n.exports,mo=go,fo=new mo;const vt=ho(fo),Ne={$on:(...t)=>vt.on(...t),$once:(...t)=>vt.once(...t),$off:(...t)=>vt.off(...t),$emit:(...t)=>vt.emit(...t)},po=(t,e)=>new Promise(n=>{chrome.tabs.query({currentWindow:!0,active:!0},s=>{s[0].id&&chrome.tabs.sendMessage(s[0].id,"getRunningAddons",{frameId:0},o=>{chrome.runtime.lastError;const i=o?[...o.userscripts,...o.userstyles]:[],a=o?o.disabledDynamicAddons:[];n({addonsCurrentlyOnTab:i,addonsPreviouslyOnTab:a})})})}),vo=/\d|[a-d]/,bo=/[e-k]/,yo=(t,e)=>{var i;const n=JSON.parse(JSON.stringify(t)),s=e&&e.reduce((a,d)=>(a[d._addonId||d.addonId]=d.manifest||d,a),{}),o={addonSettings1:{},addonSettings2:{},addonSettings3:{}};for(const[a,d]of Object.entries(n)){if(s&&!s[a])delete n[a];else{for(const l of Object.keys(d))s&&!l.startsWith("_")&&!((i=s[a].settings)!=null&&i.some(c=>l===c.id))&&delete d[l];Object.keys(d).length===0&&delete n[a]}a[0].match(vo)?o.addonSettings1[a]=n[a]:a[0].match(bo)?o.addonSettings2[a]=n[a]:o.addonSettings3[a]=n[a]}return o},kt=t=>(...e)=>new Promise(n=>t(...e,n)),Ht=["notifications"];typeof browser<"u"&&Ht.push("clipboardWrite");let Ke=null;const Rn=async()=>{const e=await kt(chrome.storage.sync.get.bind(chrome.storage.sync))(["globalTheme","addonSettings1","addonSettings2","addonSettings3","addonsEnabled"]),n={...e.addonSettings1,...e.addonSettings2,...e.addonSettings3},s={core:{lightTheme:e.globalTheme,version:chrome.runtime.getManifest().version_name},addons:{}};for(const o of Object.keys(e.addonsEnabled))s.addons[o]={enabled:e.addonsEnabled[o],settings:n[o]||{}};return JSON.stringify(s)},wo=async(t,e,n)=>{const s=JSON.parse(t),o=kt(chrome.storage.sync.get.bind(chrome.storage.sync)),i=kt(chrome.storage.sync.set.bind(chrome.storage.sync)),{addonsEnabled:a,...d}=await o(["addonSettings1","addonSettings2","addonSettings3","addonsEnabled"]),l={...d.addonSettings1,...d.addonSettings2,...d.addonSettings3},c={};for(const m of Object.keys(s.addons)){const u=s.addons[m],p=e.find(_=>_._addonId===m);if(!p)continue;const E=(p.permissions||[]).filter(_=>Ht.includes(_));u.enabled&&E.length?c[m]=E:a[m]=u.enabled,l[m]=Object.assign({},l[m]),delete l[m]._version,Object.assign(l[m],u.settings)}Ke&&n.removeEventListener("click",Ke,{once:!0});let h=null;const g=new Promise(m=>{h=m});return Ke=async()=>{if(Ke=null,Object.keys(c).length){const u=await kt(chrome.permissions.request.bind(chrome.permissions))({permissions:Object.values(c).flat()});Object.keys(c).forEach(p=>{a[p]=u})}const m=chrome.runtime.getManifest().version_name.endsWith("-prerelease");await i({globalTheme:!!s.core.lightTheme,addonsEnabled:a,...yo(l,m?null:e)}),h()},n.classList.remove("hidden-button"),n.addEventListener("click",Ke,{once:!0}),g},hs="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='24'%20height='24'%20viewBox='0%200%2016%2016'%20style='-ms-transform:rotate(360deg);-webkit-transform:rotate(360deg);transform:rotate(360deg)'%3e%3cg%20fill='%23fff'%20fill-rule='evenodd'%3e%3cpath%20d='M11.854%204.146a.5.5%200%200%201%200%20.708l-7%207a.5.5%200%200%201-.708-.708l7-7a.5.5%200%200%201%20.708%200z'/%3e%3cpath%20d='M4.146%204.146a.5.5%200%200%200%200%20.708l7%207a.5.5%200%200%200%20.708-.708l-7-7a.5.5%200%200%200-.708%200z'/%3e%3c/g%3e%3c/svg%3e",_o={props:["modelValue","title"],data(){return{canCloseOutside:!1}},watch:{modelValue(t){t?setTimeout(()=>{this.canCloseOutside=!0},100):this.canCloseOutside=!1}},computed:{isOpen:{get(){return this.modelValue},set(t){this.$emit("update:modelValue",t)}}},methods:{msg(...t){return this.$root.msg(...t)},clickOutside(t){this.isOpen&&this.canCloseOutside&&t.isTrusted&&(this.isOpen=!1)}}},So={class:"modal"},xo={class:"modal-content"},Eo=["title"];function Mo(t,e,n,s,o,i){const a=Lt("click-outside");return j((f(),v("div",So,[j((f(),v("div",xo,[r("div",null,[r("img",{onClick:e[0]||(e[0]=d=>i.isOpen=!1),class:"close",title:i.msg("close"),src:hs},null,8,Eo),r("h1",null,x(n.title),1)]),Qe(t.$slots,"default")])),[[a,i.clickOutside]])],512)),[[ne,i.isOpen]])}const ko=we(_o,[["render",Mo]]);function ht(t,e,n){return Math.max(e,Math.min(t,n))}function Io(t,e){if(typeof t=="string"||typeof e=="string")return t===e;for(const n in t)if(t[n]!==e[n])return!1;return!0}function bt(t){const e=[],n=t.length>5?2:1;for(let s=1;s<t.length;s+=n){const o=t.substring(s,s+n).repeat(n%2+1),i=parseInt(o,16);e.push(s===3*n+1?i/255:i)}return e.length===3&&e.push(1),{r:e[0],g:e[1],b:e[2],a:e[3]}}function gs(t){const e=t.l/100,n=e+t.s/100*Math.min(e,1-e),s=n===0?0:200*(1-e/n);return{h:t.h,s,v:n*100,a:t.a}}function It(t){let e=t.h%360;e<0&&(e+=360);const n=t.s/100,s=t.l/100;return{r:Yt(0,e,n,s)*255,g:Yt(8,e,n,s)*255,b:Yt(4,e,n,s)*255,a:t.a}}function Yt(t,e,n,s){const o=(t+e/30)%12,i=n*Math.min(s,1-s);return s-i*Math.max(-1,Math.min(o-3,9-o,1))}function ms(t){const e=t.s/100,n=t.v/100,s=n*(1-e/2);return{h:t.h,s:s===0||s===1?0:(n-s)/Math.min(s,1-s)*100,l:s*100,a:t.a}}function fs(t){return{h:t.h,w:t.v*(100-t.s)/100,b:100-t.v,a:t.a}}function qe(t){return It(ms(t))}function Be(t){const e=t.w/100,n=t.b/100;let s,o;const i=e+n;return i>=1?(s=0,o=e/i):(o=1-n,s=(1-e/o)*100),{h:t.h,s,v:o*100,a:t.a}}function Ct(t){const{r:e,g:n,b:s,a:o}=t,i=Math.min(e,n,s),a=Math.max(e,n,s),d=a-i,l=(a+i)/2;let c=0;d!==0&&(a===e?c=(n-s)/d+(n<s?6:0):a===n?c=(s-e)/d+2:a===s&&(c=(e-n)/d+4),c*=60);let h=0;return l!==0&&l!==255&&(h=(a-l)/Math.min(l,255-l)),{h:c,s:h*100,l:l/255*100,a:o}}function yt(t){return"#"+Object.values(t).map((e,n)=>Math.round(n===3?e*255:e).toString(16).padStart(2,"0")).join("")}function Je(t){return fs(gs(Ct(t)))}const Co={hex:{hex:t=>t,hsl:t=>Ct(bt(t)),hsv:t=>Be(Je(bt(t))),hwb:t=>Je(bt(t)),rgb:bt},hsl:{hex:t=>yt(It(t)),hsl:t=>t,hsv:gs,hwb:t=>Je(It(t)),rgb:It},hsv:{hex:t=>yt(qe(t)),hsl:ms,hsv:t=>t,hwb:fs,rgb:qe},hwb:{hex:t=>yt(qe(Be(t))),hsl:t=>Ct(qe(Be(t))),hsv:Be,hwb:t=>t,rgb:t=>qe(Be(t))},rgb:{hex:yt,hsl:Ct,hsv:t=>Be(Je(t)),hwb:Je,rgb:t=>t}};function To(t,e,n){return Co[t][e](n)}function $o(t,e){const n=t.toFixed(e);return n.includes(".")?n.replace(/\.?0+$/,""):n}const Oo={deg:1,grad:.9,rad:180/Math.PI,turn:360},Xt={from(t){return t.endsWith("%")?We.from(t,{referenceValue:1}):ke.from(t,{min:0,max:1})},to(t){return ke.to(t)}},jn={from(t){const e=t.match(/deg|g?rad|turn$/);if(e===null)return ke.from(t);const n=e[0];return ke.from(t.slice(0,-n.length))*Oo[n]},to(t){return ke.to(t)}},ke={from(t,{min:e=Number.NEGATIVE_INFINITY,max:n=Number.POSITIVE_INFINITY}={}){return t.endsWith(".")?NaN:ht(Number(t),e,n)},to(t){return $o(t,2)}},We={from(t,{referenceValue:e=100,min:n=0,max:s=100}={}){return t.endsWith("%")?ke.from(t.slice(0,-1),{min:n,max:s})*e/100:NaN},to(t){return ke.to(t)+"%"}},Kt={from(t){return t.endsWith("%")?We.from(t,{referenceValue:255}):ke.from(t,{min:0,max:255})},to(t){return ke.to(t)}},Do={hsl:{h:jn,s:We,l:We,a:Xt},hwb:{h:jn,w:We,b:We,a:Xt},rgb:{r:Kt,g:Kt,b:Kt,a:Xt}};function Nt(t,e){return Do[t][e]}function qt({format:t,color:e},n){if(t==="hex")return n&&[5,9].includes(e.length)?e.substring(0,e.length-(e.length-1)/4):e;const s=Object.entries(e).slice(0,n?3:4).map(([o,i])=>{const a=Nt(t,o);return(o==="a"?"/ ":"")+a.to(i)});return`${t}(${s.join(" ")})`}function ps(t){return/^#(?:(?:[A-F0-9]{2}){3,4}|[A-F0-9]{3,4})$/i.test(t)}function Ao(t){return"r"in t?"rgb":"w"in t?"hwb":"v"in t?"hsv":"s"in t?"hsl":null}const Bn={hsl:["h","s","l","a"],hwb:["h","w","b","a"],rgb:["r","g","b","a"]};function Lo(t){if(typeof t!="string"){const d=Ao(t);return d===null?null:{format:d,color:t}}if(t.startsWith("#"))return ps(t)?{format:"hex",color:t}:null;if(!t.includes("(")){const d=document.createElement("canvas").getContext("2d");d.fillStyle=t;const l=d.fillStyle;return l==="#000000"&&t!=="black"?null:{format:"hex",color:l}}const[e,n]=t.split("("),s=e.substring(0,3);if(!(s in Bn))return null;const o=n.replace(/[,/)]/g," ").replace(/\s+/g," ").trim().split(" ");o.length===3&&o.push("1");const i=Bn[s],a=Object.fromEntries(i.map((d,l)=>{const c=Nt(s,d);return[d,c.from(o[l])]}));return{format:s,color:a}}function Po(t,e,n){const s=t.getBoundingClientRect(),o=e-s.left,i=n-s.top;return{x:s.width===0?0:ht(o/s.width*100,0,100),y:s.height===0?0:ht((1-i/s.height)*100,0,100)}}const No={class:"vacp-range-input-group"},Fo=["for"],Ro={class:"vacp-range-input-label-text vacp-range-input-label-text--hue"},jo=["id","value"],Bo=["for"],zo={class:"vacp-range-input-label-text vacp-range-input-label-text--alpha"},Ho=["id","value"],Uo=r("span",{class:"vacp-visually-hidden"},"Copy color",-1),Vo=r("svg",{class:"vacp-icon",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",width:"24",height:"24",viewBox:"0 0 32 32"},[r("path",{d:"M25.313 28v-18.688h-14.625v18.688h14.625zM25.313 6.688c1.438 0 2.688 1.188 2.688 2.625v18.688c0 1.438-1.25 2.688-2.688 2.688h-14.625c-1.438 0-2.688-1.25-2.688-2.688v-18.688c0-1.438 1.25-2.625 2.688-2.625h14.625zM21.313 1.313v2.688h-16v18.688h-2.625v-18.688c0-1.438 1.188-2.688 2.625-2.688h16z",fill:"currentColor"})],-1),Wo={class:"vacp-color-inputs"},Go={class:"vacp-color-input-group"},Yo=["for"],Xo=r("span",{class:"vacp-color-input-label-text"}," Hex ",-1),Ko=["id","value"],qo=["id","for","onInput"],Jo={class:"vacp-color-input-label-text"},Zo=["id","value","onInput"],Qo=r("span",{class:"vacp-visually-hidden"},"Switch format",-1),ei=r("svg",{class:"vacp-icon","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"15"},[r("path",{d:"M8 15l5-5-1-1-4 2-4-2-1 1zm4-9l1-1-5-5-5 5 1 1 4-2z",fill:"currentColor"})],-1),ti=Fs({__name:"ColorPicker",props:{color:{default:"#ffffffff"},id:{default:"color-picker"},visibleFormats:{default:()=>["hex","hsl","hwb","rgb"]},defaultFormat:{default:"hsl"},alphaChannel:{default:"show"}},emits:["color-change"],setup(t,{emit:e}){const n=["hex","hsl","hsv","hwb","rgb"],s=t,o=e,i=et(null),a=et(null),d=et(null);let l=!1;const c=et(s.visibleFormats.includes(s.defaultFormat)?s.defaultFormat:s.visibleFormats[0]),h=Rs({hex:"#ffffffff",hsl:{h:0,s:0,l:100,a:1},hsv:{h:0,s:0,v:100,a:1},hwb:{h:0,w:100,b:0,a:1},rgb:{r:255,g:255,b:255,a:1}}),g=Cn(function(){const w=Object.keys(h[c.value]);return c.value!=="hex"&&s.alphaChannel==="hide"?w.slice(0,3):w}),m=Cn(function(){return s.alphaChannel==="hide"&&[5,9].includes(h.hex.length)?h.hex.substring(0,h.hex.length-(h.hex.length-1)/4):h.hex});js(()=>s.color,H),Bs(function(){document.addEventListener("mousemove",_,{passive:!1}),document.addEventListener("touchmove",I,{passive:!1}),document.addEventListener("mouseup",E),document.addEventListener("touchend",E),H(s.color)}),zs(function(){document.removeEventListener("mousemove",_),document.removeEventListener("touchmove",I),document.removeEventListener("mouseup",E),document.removeEventListener("touchend",E)});function u(){const w=(s.visibleFormats.findIndex(S=>S===c.value)+1)%s.visibleFormats.length;c.value=s.visibleFormats[w]}function p(w){l=!0,_(w)}function b(w){l=!0,I(w)}function E(){l=!1}function _(w){w.buttons!==1||l===!1||!(a.value instanceof HTMLElement)||T(a.value,w.clientX,w.clientY)}function I(w){if(l===!1||!(a.value instanceof HTMLElement))return;w.preventDefault();const S=w.touches[0];T(a.value,S.clientX,S.clientY)}function T(w,S,O){const L=Po(w,S,O),ge=Object.assign({},h.hsv);ge.s=L.x,ge.v=L.y,N("hsv",ge)}function A(w){if(!["ArrowUp","ArrowRight","ArrowDown","ArrowLeft"].includes(w.key))return;w.preventDefault();const S=["ArrowLeft","ArrowDown"].includes(w.key)?-1:1,O=["ArrowLeft","ArrowRight"].includes(w.key)?"s":"v",L=w.shiftKey?10:1,ge=h.hsv[O]+S*L,Me=Object.assign({},h.hsv);Me[O]=ht(ge,0,100),N("hsv",Me)}function H(w){const S=Lo(w);S!==null&&N(S.format,S.color)}function Z(w,S){const O=w.currentTarget,L=Object.assign({},h.hsv);L[S]=Number(O.value),N("hsv",L)}function G(w){const S=w.target;ps(S.value)&&N("hex",S.value)}function X(w,S){const O=w.target,L=c.value,ge=Object.assign({},h[L]),Me=Nt(L,S).from(O.value);Number.isNaN(Me)||Me===void 0||(ge[S]=Me,N(L,ge))}function N(w,S){let O=S;if(s.alphaChannel==="hide")if(typeof S!="string")S.a=1,O=S;else if([5,9].includes(S.length)){const L=(S.length-1)/4;O=S.substring(0,S.length-L)+"f".repeat(L)}else[4,7].includes(S.length)&&(O=S+"f".repeat((S.length-1)/3));if(!Io(h[w],O)){h[w]=O;for(const L of n)L!==w&&(h[L]=To(w,L,O));o("color-change",F())}i.value instanceof HTMLElement&&a.value instanceof HTMLElement&&d.value instanceof HTMLElement&&Q(i.value,a.value,d.value)}async function ie(){const w=h[c.value],S=s.alphaChannel==="hide",O=qt({color:w,format:c.value},S);await window.navigator.clipboard.writeText(O)}function V(w){const S=c.value;return Nt(S,w).to(h[S][w])}function Q(w,S,O){const L=qt({format:"hsl",color:h.hsl},!1);w.style.setProperty("--vacp-color",L),S.style.position="relative",S.style.backgroundColor=`hsl(${h.hsl.h} 100% 50%)`,S.style.backgroundImage="linear-gradient(to top, #000, transparent), linear-gradient(to right, #fff, transparent)",O.style.boxSizing="border-box",O.style.position="absolute",O.style.left=`${h.hsv.s}%`,O.style.bottom=`${h.hsv.v}%`}function F(){const w=s.alphaChannel==="hide",S=qt({color:h[c.value],format:c.value},w);return{colors:h,cssColor:S}}function ee(w){if(!["ArrowUp","ArrowRight","ArrowDown","ArrowLeft"].includes(w.key)||!w.shiftKey)return;const S=w.currentTarget,O=Number(S.step),L=["ArrowLeft","ArrowDown"].includes(w.key)?-1:1,ge=Number(S.value)+L*O*10,Me=ht(ge,Number(S.min),Number(S.max));S.value=String(Me-L*O)}return(w,S)=>(f(),v("div",{ref_key:"colorPicker",ref:i,class:"vacp-color-picker"},[r("div",{ref_key:"colorSpace",ref:a,class:"vacp-color-space",onMousedown:p,onTouchstart:b},[r("div",{ref_key:"thumb",ref:d,class:"vacp-color-space-thumb",tabindex:"0","aria-label":"Color space thumb",onKeydown:A},null,544)],544),r("div",No,[r("label",{class:"vacp-range-input-label vacp-range-input-label--hue",for:`${w.id}-hue-slider`},[r("span",Ro,[Qe(w.$slots,"hue-range-input-label",{},()=>[re("Hue")])]),r("input",{id:`${w.id}-hue-slider`,class:"vacp-range-input vacp-range-input--hue",value:h.hsv.h,type:"range",min:"0",max:"360",step:"1",onKeydownPassive:ee,onInput:S[0]||(S[0]=O=>Z(O,"h"))},null,40,jo)],8,Fo),w.alphaChannel==="show"?(f(),v("label",{key:0,class:"vacp-range-input-label vacp-range-input-label--alpha",for:`${w.id}-alpha-slider`},[r("span",zo,[Qe(w.$slots,"alpha-range-input-label",{},()=>[re("Alpha")])]),r("input",{id:`${w.id}-alpha-slider`,class:"vacp-range-input vacp-range-input--alpha",value:h.hsv.a,type:"range",min:"0",max:"1",step:"0.01",onKeydownPassive:ee,onInput:S[1]||(S[1]=O=>Z(O,"a"))},null,40,Ho)],8,Bo)):D("",!0)]),r("button",{class:"vacp-copy-button",type:"button",onClick:ie},[Qe(w.$slots,"copy-button",{},()=>[Uo,Vo])]),r("div",Wo,[r("div",Go,[c.value==="hex"?(f(),v("label",{key:0,class:"vacp-color-input-label",for:`${w.id}-color-hex`},[Xo,r("input",{id:`${w.id}-color-hex`,class:"vacp-color-input",type:"text",value:m.value,onInput:G},null,40,Ko)],8,Yo)):(f(!0),v(B,{key:1},K(g.value,O=>(f(),v("label",{id:`${w.id}-color-${c.value}-${O}-label`,key:`${w.id}-color-${c.value}-${O}-label`,class:"vacp-color-input-label",for:`${w.id}-color-${c.value}-${O}`,onInput:L=>X(L,O)},[r("span",Jo,x(O.toUpperCase()),1),r("input",{id:`${w.id}-color-${c.value}-${O}`,class:"vacp-color-input",type:"text",value:V(O),onInput:L=>X(L,O)},null,40,Zo)],40,qo))),128))]),w.visibleFormats.length>1?(f(),v("button",{key:0,class:"vacp-format-switch-button",type:"button",onClick:u},[Qe(w.$slots,"format-switch-button",{},()=>[Qo,ei])])):D("",!0)])],512))}});function ni(t,e,n){var s,o,i,a,d;function l(){var h=Date.now()-a;h<e&&h>=0?s=setTimeout(l,e-h):(s=null,d=t.apply(i,o),i=o=null)}var c=function(){return i=this,o=arguments,a=Date.now(),s||(s=setTimeout(l,e)),d};return c.clear=function(){s&&(clearTimeout(s),s=null)},c.flush=function(){s&&(d=t.apply(i,o),i=o=null,clearTimeout(s),s=null)},c}const si={components:{ColorPicker:ti},props:["addon","setting","modelValue","alphaEnabled"],emits:["update:modelValue"],computed:{dir(){return wn()}},data(){return{isOpen:!1,canCloseOutside:!1}},computed:{color:{get(){return this.modelValue},set(t){this.$emit("update:modelValue",t)}}},mounted(){Ne.$on("close-pickers",t=>{if(this.isOpen&&this!==t){const e=this.$parent.addon,n=this.$parent.setting;this.toggle(e,n,!1,{callCloseDropdowns:!1,callClosePickers:!1})}})},methods:{toggle(t,e,n=!this.isOpen,{callCloseDropdowns:s=!0,callClosePickers:o=!0}={}){this.isOpen=n,this.opening=!0,o&&this.$root.closePickers({isTrusted:!0},this,{callCloseDropdowns:!1}),s&&this.$root.closeResetDropdowns({isTrusted:!0}),this.opening=!1,this.$parent.addonSettings[e.id]=this.color,this.$parent.updateSettings(t,{wait:250,settingId:e.id}),this.canCloseOutside=!1,setTimeout(()=>{this.canCloseOutside=!0},0)},change:ni(function(t){const e=t.colors.hex;this.$parent.addonSettings[this.setting.id]=e,this.$parent.updateSettings(this.addon,{wait:250,settingId:this.setting.id}),this.color=e},0)}};function oi(t,e,n,s,o,i){const a=ve("ColorPicker");return f(),v("div",{class:"color-container",key:t.value},[r("button",{style:_e({"background-color":i.color}),class:z(["setting-input color",{"action-disabled":!n.addon._enabled,open:o.isOpen}]),onClick:e[0]||(e[0]=d=>i.toggle(n.addon,n.setting))},null,6),r("form",null,[j(Pt(a,{color:i.color,"alpha-channel":n.alphaEnabled?"show":"hide",dir:i.dir,onColorChange:i.change},null,8,["color","alpha-channel","dir","onColorChange"]),[[ne,o.isOpen]])])])}const ii=we(si,[["render",oi],["__scopeId","data-v-ed79ddbd"]]),Ut="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20fill='%23fff'%20width='18'%20height='18'%3e%3cpath%20d='M0%200h24v24H0z'%20fill='none'/%3e%3cpath%20d='M16.59%208.59%2012%2013.17%207.41%208.59%206%2010l6%206%206-6z'/%3e%3c/svg%3e",ai={props:["enabled","setting","presets"],data(){return{isResetDropdown:!0,isOpen:!1}},mounted(){Ne.$on("close-reset-dropdowns",t=>{this.isOpen&&this.setting.id!==t&&(this.isOpen=!1)})},methods:{toggle(){this.isOpen=!this.isOpen,this.$root.closePickers({isTrusted:!0},null,{callCloseDropdowns:!1}),this.$root.closeResetDropdowns({isTrusted:!0},this.setting.id)},resetToDefault(){this.$parent.addonSettings[this.setting.id]=this.setting.default,this.$parent.updateSettings(this.addon,{settingId:this.setting.id}),this.toggle()},resetToPreset(t){this.$parent.addonSettings[this.setting.id]=t.values[this.setting.id],this.$parent.updateSettings(this.addon,{settingId:this.setting.id}),this.toggle()},msg(...t){return this.$root.msg(...t)}}},ri=["disabled","title"],li=r("img",{src:Ut,class:"icon-type"},null,-1),di=[li],ci={key:0,class:"color-preview"},ui={key:1,class:"text-preview"},hi=["onClick"],gi={key:0,class:"color-preview"},mi={key:1,class:"text-preview"};function fi(t,e,n,s,o,i){return f(),v("div",{class:z({"setting-dropdown":!0,open:o.isOpen})},[r("button",{type:"button",class:"large-button clear-button",disabled:!n.enabled,onClick:e[0]||(e[0]=(...a)=>i.toggle&&i.toggle(...a)),title:i.msg("reset")},di,8,ri),r("ul",null,[r("li",{onClick:e[1]||(e[1]=(...a)=>i.resetToDefault&&i.resetToDefault(...a))},[n.setting.type==="color"?(f(),v("span",ci,[r("span",{style:_e({backgroundColor:n.setting.default})},null,4)])):D("",!0),r("span",null,x(i.msg("default")),1),n.setting.type!=="color"?(f(),v("span",ui,x(n.setting.default),1)):D("",!0)]),(f(!0),v(B,null,K(n.presets,a=>(f(),v(B,null,[(a.values.hasOwnProperty(n.setting.id)&&n.setting.type==="color"?a.values[n.setting.id].toLowerCase()!==n.setting.default.toLowerCase():a.values[n.setting.id]!==n.setting.default)?(f(),v("li",{key:0,onClick:d=>i.resetToPreset(a)},[n.setting.type==="color"?(f(),v("span",gi,[r("span",{style:_e({backgroundColor:a.values[n.setting.id]})},null,4)])):D("",!0),r("span",null,x(a.name),1),n.setting.type!=="color"?(f(),v("span",mi,x(a.values[n.setting.id]),1)):D("",!0)],8,hi)):D("",!0)],64))),256))])],2)}const pi=we(ai,[["render",fi]]);/**!
 * Sortable 1.15.2
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function zn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,s)}return n}function Ee(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zn(Object(n),!0).forEach(function(s){vi(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zn(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function Tt(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Tt=function(e){return typeof e}:Tt=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tt(t)}function vi(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Te(){return Te=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Te.apply(this,arguments)}function bi(t,e){if(t==null)return{};var n={},s=Object.keys(t),o,i;for(i=0;i<s.length;i++)o=s[i],!(e.indexOf(o)>=0)&&(n[o]=t[o]);return n}function yi(t,e){if(t==null)return{};var n=bi(t,e),s,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(o=0;o<i.length;o++)s=i[o],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}var wi="1.15.2";function Ie(t){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(t)}var Oe=Ie(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),gt=Ie(/Edge/i),Hn=Ie(/firefox/i),rt=Ie(/safari/i)&&!Ie(/chrome/i)&&!Ie(/android/i),vs=Ie(/iP(ad|od|hone)/i),bs=Ie(/chrome/i)&&Ie(/android/i),ys={capture:!1,passive:!1};function R(t,e,n){t.addEventListener(e,n,!Oe&&ys)}function P(t,e,n){t.removeEventListener(e,n,!Oe&&ys)}function Ft(t,e){if(e){if(e[0]===">"&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch{return!1}return!1}}function _i(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function pe(t,e,n,s){if(t){n=n||document;do{if(e!=null&&(e[0]===">"?t.parentNode===n&&Ft(t,e):Ft(t,e))||s&&t===n)return t;if(t===n)break}while(t=_i(t))}return null}var Un=/\s+/g;function de(t,e,n){if(t&&e)if(t.classList)t.classList[n?"add":"remove"](e);else{var s=(" "+t.className+" ").replace(Un," ").replace(" "+e+" "," ");t.className=(s+(n?" "+e:"")).replace(Un," ")}}function M(t,e,n){var s=t&&t.style;if(s){if(n===void 0)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(n=t.currentStyle),e===void 0?n:n[e];!(e in s)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),s[e]=n+(typeof n=="string"?"":"px")}}function Ye(t,e){var n="";if(typeof t=="string")n=t;else do{var s=M(t,"transform");s&&s!=="none"&&(n=s+" "+n)}while(!e&&(t=t.parentNode));var o=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return o&&new o(n)}function ws(t,e,n){if(t){var s=t.getElementsByTagName(e),o=0,i=s.length;if(n)for(;o<i;o++)n(s[o],o);return s}return[]}function xe(){var t=document.scrollingElement;return t||document.documentElement}function J(t,e,n,s,o){if(!(!t.getBoundingClientRect&&t!==window)){var i,a,d,l,c,h,g;if(t!==window&&t.parentNode&&t!==xe()?(i=t.getBoundingClientRect(),a=i.top,d=i.left,l=i.bottom,c=i.right,h=i.height,g=i.width):(a=0,d=0,l=window.innerHeight,c=window.innerWidth,h=window.innerHeight,g=window.innerWidth),(e||n)&&t!==window&&(o=o||t.parentNode,!Oe))do if(o&&o.getBoundingClientRect&&(M(o,"transform")!=="none"||n&&M(o,"position")!=="static")){var m=o.getBoundingClientRect();a-=m.top+parseInt(M(o,"border-top-width")),d-=m.left+parseInt(M(o,"border-left-width")),l=a+i.height,c=d+i.width;break}while(o=o.parentNode);if(s&&t!==window){var u=Ye(o||t),p=u&&u.a,b=u&&u.d;u&&(a/=b,d/=p,g/=p,h/=b,l=a+h,c=d+g)}return{top:a,left:d,bottom:l,right:c,width:g,height:h}}}function Vn(t,e,n){for(var s=Pe(t,!0),o=J(t)[e];s;){var i=J(s)[n],a=void 0;if(a=o>=i,!a)return s;if(s===xe())break;s=Pe(s,!1)}return!1}function Xe(t,e,n,s){for(var o=0,i=0,a=t.children;i<a.length;){if(a[i].style.display!=="none"&&a[i]!==k.ghost&&(s||a[i]!==k.dragged)&&pe(a[i],n.draggable,t,!1)){if(o===e)return a[i];o++}i++}return null}function xn(t,e){for(var n=t.lastElementChild;n&&(n===k.ghost||M(n,"display")==="none"||e&&!Ft(n,e));)n=n.previousElementSibling;return n||null}function me(t,e){var n=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)t.nodeName.toUpperCase()!=="TEMPLATE"&&t!==k.clone&&(!e||Ft(t,e))&&n++;return n}function Wn(t){var e=0,n=0,s=xe();if(t)do{var o=Ye(t),i=o.a,a=o.d;e+=t.scrollLeft*i,n+=t.scrollTop*a}while(t!==s&&(t=t.parentNode));return[e,n]}function Si(t,e){for(var n in t)if(t.hasOwnProperty(n)){for(var s in e)if(e.hasOwnProperty(s)&&e[s]===t[n][s])return Number(n)}return-1}function Pe(t,e){if(!t||!t.getBoundingClientRect)return xe();var n=t,s=!1;do if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var o=M(n);if(n.clientWidth<n.scrollWidth&&(o.overflowX=="auto"||o.overflowX=="scroll")||n.clientHeight<n.scrollHeight&&(o.overflowY=="auto"||o.overflowY=="scroll")){if(!n.getBoundingClientRect||n===document.body)return xe();if(s||e)return n;s=!0}}while(n=n.parentNode);return xe()}function xi(t,e){if(t&&e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function Jt(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}var lt;function _s(t,e){return function(){if(!lt){var n=arguments,s=this;n.length===1?t.call(s,n[0]):t.apply(s,n),lt=setTimeout(function(){lt=void 0},e)}}}function Ei(){clearTimeout(lt),lt=void 0}function Ss(t,e,n){t.scrollLeft+=e,t.scrollTop+=n}function xs(t){var e=window.Polymer,n=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):n?n(t).clone(!0)[0]:t.cloneNode(!0)}function Es(t,e,n){var s={};return Array.from(t.children).forEach(function(o){var i,a,d,l;if(!(!pe(o,e.draggable,t,!1)||o.animated||o===n)){var c=J(o);s.left=Math.min((i=s.left)!==null&&i!==void 0?i:1/0,c.left),s.top=Math.min((a=s.top)!==null&&a!==void 0?a:1/0,c.top),s.right=Math.max((d=s.right)!==null&&d!==void 0?d:-1/0,c.right),s.bottom=Math.max((l=s.bottom)!==null&&l!==void 0?l:-1/0,c.bottom)}}),s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}var he="Sortable"+new Date().getTime();function Mi(){var t=[],e;return{captureAnimationState:function(){if(t=[],!!this.options.animation){var s=[].slice.call(this.el.children);s.forEach(function(o){if(!(M(o,"display")==="none"||o===k.ghost)){t.push({target:o,rect:J(o)});var i=Ee({},t[t.length-1].rect);if(o.thisAnimationDuration){var a=Ye(o,!0);a&&(i.top-=a.f,i.left-=a.e)}o.fromRect=i}})}},addAnimationState:function(s){t.push(s)},removeAnimationState:function(s){t.splice(Si(t,{target:s}),1)},animateAll:function(s){var o=this;if(!this.options.animation){clearTimeout(e),typeof s=="function"&&s();return}var i=!1,a=0;t.forEach(function(d){var l=0,c=d.target,h=c.fromRect,g=J(c),m=c.prevFromRect,u=c.prevToRect,p=d.rect,b=Ye(c,!0);b&&(g.top-=b.f,g.left-=b.e),c.toRect=g,c.thisAnimationDuration&&Jt(m,g)&&!Jt(h,g)&&(p.top-g.top)/(p.left-g.left)===(h.top-g.top)/(h.left-g.left)&&(l=Ii(p,m,u,o.options)),Jt(g,h)||(c.prevFromRect=h,c.prevToRect=g,l||(l=o.options.animation),o.animate(c,p,g,l)),l&&(i=!0,a=Math.max(a,l),clearTimeout(c.animationResetTimer),c.animationResetTimer=setTimeout(function(){c.animationTime=0,c.prevFromRect=null,c.fromRect=null,c.prevToRect=null,c.thisAnimationDuration=null},l),c.thisAnimationDuration=l)}),clearTimeout(e),i?e=setTimeout(function(){typeof s=="function"&&s()},a):typeof s=="function"&&s(),t=[]},animate:function(s,o,i,a){if(a){M(s,"transition",""),M(s,"transform","");var d=Ye(this.el),l=d&&d.a,c=d&&d.d,h=(o.left-i.left)/(l||1),g=(o.top-i.top)/(c||1);s.animatingX=!!h,s.animatingY=!!g,M(s,"transform","translate3d("+h+"px,"+g+"px,0)"),this.forRepaintDummy=ki(s),M(s,"transition","transform "+a+"ms"+(this.options.easing?" "+this.options.easing:"")),M(s,"transform","translate3d(0,0,0)"),typeof s.animated=="number"&&clearTimeout(s.animated),s.animated=setTimeout(function(){M(s,"transition",""),M(s,"transform",""),s.animated=!1,s.animatingX=!1,s.animatingY=!1},a)}}}}function ki(t){return t.offsetWidth}function Ii(t,e,n,s){return Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))/Math.sqrt(Math.pow(e.top-n.top,2)+Math.pow(e.left-n.left,2))*s.animation}var ze=[],Zt={initializeByDefault:!0},mt={mount:function(e){for(var n in Zt)Zt.hasOwnProperty(n)&&!(n in e)&&(e[n]=Zt[n]);ze.forEach(function(s){if(s.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),ze.push(e)},pluginEvent:function(e,n,s){var o=this;this.eventCanceled=!1,s.cancel=function(){o.eventCanceled=!0};var i=e+"Global";ze.forEach(function(a){n[a.pluginName]&&(n[a.pluginName][i]&&n[a.pluginName][i](Ee({sortable:n},s)),n.options[a.pluginName]&&n[a.pluginName][e]&&n[a.pluginName][e](Ee({sortable:n},s)))})},initializePlugins:function(e,n,s,o){ze.forEach(function(d){var l=d.pluginName;if(!(!e.options[l]&&!d.initializeByDefault)){var c=new d(e,n,e.options);c.sortable=e,c.options=e.options,e[l]=c,Te(s,c.defaults)}});for(var i in e.options)if(e.options.hasOwnProperty(i)){var a=this.modifyOption(e,i,e.options[i]);typeof a<"u"&&(e.options[i]=a)}},getEventProperties:function(e,n){var s={};return ze.forEach(function(o){typeof o.eventProperties=="function"&&Te(s,o.eventProperties.call(n[o.pluginName],e))}),s},modifyOption:function(e,n,s){var o;return ze.forEach(function(i){e[i.pluginName]&&i.optionListeners&&typeof i.optionListeners[n]=="function"&&(o=i.optionListeners[n].call(e[i.pluginName],s))}),o}};function Ci(t){var e=t.sortable,n=t.rootEl,s=t.name,o=t.targetEl,i=t.cloneEl,a=t.toEl,d=t.fromEl,l=t.oldIndex,c=t.newIndex,h=t.oldDraggableIndex,g=t.newDraggableIndex,m=t.originalEvent,u=t.putSortable,p=t.extraEventProperties;if(e=e||n&&n[he],!!e){var b,E=e.options,_="on"+s.charAt(0).toUpperCase()+s.substr(1);window.CustomEvent&&!Oe&&!gt?b=new CustomEvent(s,{bubbles:!0,cancelable:!0}):(b=document.createEvent("Event"),b.initEvent(s,!0,!0)),b.to=a||n,b.from=d||n,b.item=o||n,b.clone=i,b.oldIndex=l,b.newIndex=c,b.oldDraggableIndex=h,b.newDraggableIndex=g,b.originalEvent=m,b.pullMode=u?u.lastPutMode:void 0;var I=Ee(Ee({},p),mt.getEventProperties(s,e));for(var T in I)b[T]=I[T];n&&n.dispatchEvent(b),E[_]&&E[_].call(e,b)}}var Ti=["evt"],ae=function(e,n){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=s.evt,i=yi(s,Ti);mt.pluginEvent.bind(k)(e,n,Ee({dragEl:y,parentEl:Y,ghostEl:$,rootEl:U,nextEl:je,lastDownEl:$t,cloneEl:W,cloneHidden:Le,dragStarted:st,putSortable:te,activeSortable:k.active,originalEvent:o,oldIndex:Ge,oldDraggableIndex:dt,newIndex:ce,newDraggableIndex:Ae,hideGhostForTarget:Cs,unhideGhostForTarget:Ts,cloneNowHidden:function(){Le=!0},cloneNowShown:function(){Le=!1},dispatchSortableEvent:function(d){oe({sortable:n,name:d,originalEvent:o})}},i))};function oe(t){Ci(Ee({putSortable:te,cloneEl:W,targetEl:y,rootEl:U,oldIndex:Ge,oldDraggableIndex:dt,newIndex:ce,newDraggableIndex:Ae},t))}var y,Y,$,U,je,$t,W,Le,Ge,ce,dt,Ae,wt,te,Ue=!1,Rt=!1,jt=[],Fe,fe,Qt,en,Gn,Yn,st,He,ct,ut=!1,_t=!1,Ot,se,tn=[],hn=!1,Bt=[],Vt=typeof document<"u",St=vs,Xn=gt||Oe?"cssFloat":"float",$i=Vt&&!bs&&!vs&&"draggable"in document.createElement("div"),Ms=function(){if(Vt){if(Oe)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto",t.style.pointerEvents==="auto"}}(),ks=function(e,n){var s=M(e),o=parseInt(s.width)-parseInt(s.paddingLeft)-parseInt(s.paddingRight)-parseInt(s.borderLeftWidth)-parseInt(s.borderRightWidth),i=Xe(e,0,n),a=Xe(e,1,n),d=i&&M(i),l=a&&M(a),c=d&&parseInt(d.marginLeft)+parseInt(d.marginRight)+J(i).width,h=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+J(a).width;if(s.display==="flex")return s.flexDirection==="column"||s.flexDirection==="column-reverse"?"vertical":"horizontal";if(s.display==="grid")return s.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(i&&d.float&&d.float!=="none"){var g=d.float==="left"?"left":"right";return a&&(l.clear==="both"||l.clear===g)?"vertical":"horizontal"}return i&&(d.display==="block"||d.display==="flex"||d.display==="table"||d.display==="grid"||c>=o&&s[Xn]==="none"||a&&s[Xn]==="none"&&c+h>o)?"vertical":"horizontal"},Oi=function(e,n,s){var o=s?e.left:e.top,i=s?e.right:e.bottom,a=s?e.width:e.height,d=s?n.left:n.top,l=s?n.right:n.bottom,c=s?n.width:n.height;return o===d||i===l||o+a/2===d+c/2},Di=function(e,n){var s;return jt.some(function(o){var i=o[he].options.emptyInsertThreshold;if(!(!i||xn(o))){var a=J(o),d=e>=a.left-i&&e<=a.right+i,l=n>=a.top-i&&n<=a.bottom+i;if(d&&l)return s=o}}),s},Is=function(e){function n(i,a){return function(d,l,c,h){var g=d.options.group.name&&l.options.group.name&&d.options.group.name===l.options.group.name;if(i==null&&(a||g))return!0;if(i==null||i===!1)return!1;if(a&&i==="clone")return i;if(typeof i=="function")return n(i(d,l,c,h),a)(d,l,c,h);var m=(a?d:l).options.group.name;return i===!0||typeof i=="string"&&i===m||i.join&&i.indexOf(m)>-1}}var s={},o=e.group;(!o||Tt(o)!="object")&&(o={name:o}),s.name=o.name,s.checkPull=n(o.pull,!0),s.checkPut=n(o.put),s.revertClone=o.revertClone,e.group=s},Cs=function(){!Ms&&$&&M($,"display","none")},Ts=function(){!Ms&&$&&M($,"display","")};Vt&&!bs&&document.addEventListener("click",function(t){if(Rt)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),Rt=!1,!1},!0);var Re=function(e){if(y){e=e.touches?e.touches[0]:e;var n=Di(e.clientX,e.clientY);if(n){var s={};for(var o in e)e.hasOwnProperty(o)&&(s[o]=e[o]);s.target=s.rootEl=n,s.preventDefault=void 0,s.stopPropagation=void 0,n[he]._onDragOver(s)}}},Ai=function(e){y&&y.parentNode[he]._isOutsideThisEl(e.target)};function k(t,e){if(!(t&&t.nodeType&&t.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=Te({},e),t[he]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return ks(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(a,d){a.setData("Text",d.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:k.supportPointer!==!1&&"PointerEvent"in window&&!rt,emptyInsertThreshold:5};mt.initializePlugins(this,t,n);for(var s in n)!(s in e)&&(e[s]=n[s]);Is(e);for(var o in this)o.charAt(0)==="_"&&typeof this[o]=="function"&&(this[o]=this[o].bind(this));this.nativeDraggable=e.forceFallback?!1:$i,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?R(t,"pointerdown",this._onTapStart):(R(t,"mousedown",this._onTapStart),R(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(R(t,"dragover",this),R(t,"dragenter",this)),jt.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),Te(this,Mi())}k.prototype={constructor:k,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(He=null)},_getDirection:function(e,n){return typeof this.options.direction=="function"?this.options.direction.call(this,e,n,y):this.options.direction},_onTapStart:function(e){if(e.cancelable){var n=this,s=this.el,o=this.options,i=o.preventOnFilter,a=e.type,d=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,l=(d||e).target,c=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||l,h=o.filter;if(zi(s),!y&&!(/mousedown|pointerdown/.test(a)&&e.button!==0||o.disabled)&&!c.isContentEditable&&!(!this.nativeDraggable&&rt&&l&&l.tagName.toUpperCase()==="SELECT")&&(l=pe(l,o.draggable,s,!1),!(l&&l.animated)&&$t!==l)){if(Ge=me(l),dt=me(l,o.draggable),typeof h=="function"){if(h.call(this,e,l,this)){oe({sortable:n,rootEl:c,name:"filter",targetEl:l,toEl:s,fromEl:s}),ae("filter",n,{evt:e}),i&&e.cancelable&&e.preventDefault();return}}else if(h&&(h=h.split(",").some(function(g){if(g=pe(c,g.trim(),s,!1),g)return oe({sortable:n,rootEl:g,name:"filter",targetEl:l,fromEl:s,toEl:s}),ae("filter",n,{evt:e}),!0}),h)){i&&e.cancelable&&e.preventDefault();return}o.handle&&!pe(c,o.handle,s,!1)||this._prepareDragStart(e,d,l)}}},_prepareDragStart:function(e,n,s){var o=this,i=o.el,a=o.options,d=i.ownerDocument,l;if(s&&!y&&s.parentNode===i){var c=J(s);if(U=i,y=s,Y=y.parentNode,je=y.nextSibling,$t=s,wt=a.group,k.dragged=y,Fe={target:y,clientX:(n||e).clientX,clientY:(n||e).clientY},Gn=Fe.clientX-c.left,Yn=Fe.clientY-c.top,this._lastX=(n||e).clientX,this._lastY=(n||e).clientY,y.style["will-change"]="all",l=function(){if(ae("delayEnded",o,{evt:e}),k.eventCanceled){o._onDrop();return}o._disableDelayedDragEvents(),!Hn&&o.nativeDraggable&&(y.draggable=!0),o._triggerDragStart(e,n),oe({sortable:o,name:"choose",originalEvent:e}),de(y,a.chosenClass,!0)},a.ignore.split(",").forEach(function(h){ws(y,h.trim(),nn)}),R(d,"dragover",Re),R(d,"mousemove",Re),R(d,"touchmove",Re),R(d,"mouseup",o._onDrop),R(d,"touchend",o._onDrop),R(d,"touchcancel",o._onDrop),Hn&&this.nativeDraggable&&(this.options.touchStartThreshold=4,y.draggable=!0),ae("delayStart",this,{evt:e}),a.delay&&(!a.delayOnTouchOnly||n)&&(!this.nativeDraggable||!(gt||Oe))){if(k.eventCanceled){this._onDrop();return}R(d,"mouseup",o._disableDelayedDrag),R(d,"touchend",o._disableDelayedDrag),R(d,"touchcancel",o._disableDelayedDrag),R(d,"mousemove",o._delayedDragTouchMoveHandler),R(d,"touchmove",o._delayedDragTouchMoveHandler),a.supportPointer&&R(d,"pointermove",o._delayedDragTouchMoveHandler),o._dragStartTimer=setTimeout(l,a.delay)}else l()}},_delayedDragTouchMoveHandler:function(e){var n=e.touches?e.touches[0]:e;Math.max(Math.abs(n.clientX-this._lastX),Math.abs(n.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){y&&nn(y),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;P(e,"mouseup",this._disableDelayedDrag),P(e,"touchend",this._disableDelayedDrag),P(e,"touchcancel",this._disableDelayedDrag),P(e,"mousemove",this._delayedDragTouchMoveHandler),P(e,"touchmove",this._delayedDragTouchMoveHandler),P(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,n){n=n||e.pointerType=="touch"&&e,!this.nativeDraggable||n?this.options.supportPointer?R(document,"pointermove",this._onTouchMove):n?R(document,"touchmove",this._onTouchMove):R(document,"mousemove",this._onTouchMove):(R(y,"dragend",this),R(U,"dragstart",this._onDragStart));try{document.selection?Dt(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,n){if(Ue=!1,U&&y){ae("dragStarted",this,{evt:n}),this.nativeDraggable&&R(document,"dragover",Ai);var s=this.options;!e&&de(y,s.dragClass,!1),de(y,s.ghostClass,!0),k.active=this,e&&this._appendGhost(),oe({sortable:this,name:"start",originalEvent:n})}else this._nulling()},_emulateDragOver:function(){if(fe){this._lastX=fe.clientX,this._lastY=fe.clientY,Cs();for(var e=document.elementFromPoint(fe.clientX,fe.clientY),n=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(fe.clientX,fe.clientY),e!==n);)n=e;if(y.parentNode[he]._isOutsideThisEl(e),n)do{if(n[he]){var s=void 0;if(s=n[he]._onDragOver({clientX:fe.clientX,clientY:fe.clientY,target:e,rootEl:n}),s&&!this.options.dragoverBubble)break}e=n}while(n=n.parentNode);Ts()}},_onTouchMove:function(e){if(Fe){var n=this.options,s=n.fallbackTolerance,o=n.fallbackOffset,i=e.touches?e.touches[0]:e,a=$&&Ye($,!0),d=$&&a&&a.a,l=$&&a&&a.d,c=St&&se&&Wn(se),h=(i.clientX-Fe.clientX+o.x)/(d||1)+(c?c[0]-tn[0]:0)/(d||1),g=(i.clientY-Fe.clientY+o.y)/(l||1)+(c?c[1]-tn[1]:0)/(l||1);if(!k.active&&!Ue){if(s&&Math.max(Math.abs(i.clientX-this._lastX),Math.abs(i.clientY-this._lastY))<s)return;this._onDragStart(e,!0)}if($){a?(a.e+=h-(Qt||0),a.f+=g-(en||0)):a={a:1,b:0,c:0,d:1,e:h,f:g};var m="matrix(".concat(a.a,",").concat(a.b,",").concat(a.c,",").concat(a.d,",").concat(a.e,",").concat(a.f,")");M($,"webkitTransform",m),M($,"mozTransform",m),M($,"msTransform",m),M($,"transform",m),Qt=h,en=g,fe=i}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!$){var e=this.options.fallbackOnBody?document.body:U,n=J(y,!0,St,!0,e),s=this.options;if(St){for(se=e;M(se,"position")==="static"&&M(se,"transform")==="none"&&se!==document;)se=se.parentNode;se!==document.body&&se!==document.documentElement?(se===document&&(se=xe()),n.top+=se.scrollTop,n.left+=se.scrollLeft):se=xe(),tn=Wn(se)}$=y.cloneNode(!0),de($,s.ghostClass,!1),de($,s.fallbackClass,!0),de($,s.dragClass,!0),M($,"transition",""),M($,"transform",""),M($,"box-sizing","border-box"),M($,"margin",0),M($,"top",n.top),M($,"left",n.left),M($,"width",n.width),M($,"height",n.height),M($,"opacity","0.8"),M($,"position",St?"absolute":"fixed"),M($,"zIndex","100000"),M($,"pointerEvents","none"),k.ghost=$,e.appendChild($),M($,"transform-origin",Gn/parseInt($.style.width)*100+"% "+Yn/parseInt($.style.height)*100+"%")}},_onDragStart:function(e,n){var s=this,o=e.dataTransfer,i=s.options;if(ae("dragStart",this,{evt:e}),k.eventCanceled){this._onDrop();return}ae("setupClone",this),k.eventCanceled||(W=xs(y),W.removeAttribute("id"),W.draggable=!1,W.style["will-change"]="",this._hideClone(),de(W,this.options.chosenClass,!1),k.clone=W),s.cloneId=Dt(function(){ae("clone",s),!k.eventCanceled&&(s.options.removeCloneOnHide||U.insertBefore(W,y),s._hideClone(),oe({sortable:s,name:"clone"}))}),!n&&de(y,i.dragClass,!0),n?(Rt=!0,s._loopId=setInterval(s._emulateDragOver,50)):(P(document,"mouseup",s._onDrop),P(document,"touchend",s._onDrop),P(document,"touchcancel",s._onDrop),o&&(o.effectAllowed="move",i.setData&&i.setData.call(s,o,y)),R(document,"drop",s),M(y,"transform","translateZ(0)")),Ue=!0,s._dragStartId=Dt(s._dragStarted.bind(s,n,e)),R(document,"selectstart",s),st=!0,rt&&M(document.body,"user-select","none")},_onDragOver:function(e){var n=this.el,s=e.target,o,i,a,d=this.options,l=d.group,c=k.active,h=wt===l,g=d.sort,m=te||c,u,p=this,b=!1;if(hn)return;function E(L,ge){ae(L,p,Ee({evt:e,isOwner:h,axis:u?"vertical":"horizontal",revert:a,dragRect:o,targetRect:i,canSort:g,fromSortable:m,target:s,completed:I,onMove:function(In,Ns){return xt(U,n,y,o,In,J(In),e,Ns)},changed:T},ge))}function _(){E("dragOverAnimationCapture"),p.captureAnimationState(),p!==m&&m.captureAnimationState()}function I(L){return E("dragOverCompleted",{insertion:L}),L&&(h?c._hideClone():c._showClone(p),p!==m&&(de(y,te?te.options.ghostClass:c.options.ghostClass,!1),de(y,d.ghostClass,!0)),te!==p&&p!==k.active?te=p:p===k.active&&te&&(te=null),m===p&&(p._ignoreWhileAnimating=s),p.animateAll(function(){E("dragOverAnimationComplete"),p._ignoreWhileAnimating=null}),p!==m&&(m.animateAll(),m._ignoreWhileAnimating=null)),(s===y&&!y.animated||s===n&&!s.animated)&&(He=null),!d.dragoverBubble&&!e.rootEl&&s!==document&&(y.parentNode[he]._isOutsideThisEl(e.target),!L&&Re(e)),!d.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),b=!0}function T(){ce=me(y),Ae=me(y,d.draggable),oe({sortable:p,name:"change",toEl:n,newIndex:ce,newDraggableIndex:Ae,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),s=pe(s,d.draggable,n,!0),E("dragOver"),k.eventCanceled)return b;if(y.contains(e.target)||s.animated&&s.animatingX&&s.animatingY||p._ignoreWhileAnimating===s)return I(!1);if(Rt=!1,c&&!d.disabled&&(h?g||(a=Y!==U):te===this||(this.lastPutMode=wt.checkPull(this,c,y,e))&&l.checkPut(this,c,y,e))){if(u=this._getDirection(e,s)==="vertical",o=J(y),E("dragOverValid"),k.eventCanceled)return b;if(a)return Y=U,_(),this._hideClone(),E("revert"),k.eventCanceled||(je?U.insertBefore(y,je):U.appendChild(y)),I(!0);var A=xn(n,d.draggable);if(!A||Fi(e,u,this)&&!A.animated){if(A===y)return I(!1);if(A&&n===e.target&&(s=A),s&&(i=J(s)),xt(U,n,y,o,s,i,e,!!s)!==!1)return _(),A&&A.nextSibling?n.insertBefore(y,A.nextSibling):n.appendChild(y),Y=n,T(),I(!0)}else if(A&&Ni(e,u,this)){var H=Xe(n,0,d,!0);if(H===y)return I(!1);if(s=H,i=J(s),xt(U,n,y,o,s,i,e,!1)!==!1)return _(),n.insertBefore(y,H),Y=n,T(),I(!0)}else if(s.parentNode===n){i=J(s);var Z=0,G,X=y.parentNode!==n,N=!Oi(y.animated&&y.toRect||o,s.animated&&s.toRect||i,u),ie=u?"top":"left",V=Vn(s,"top","top")||Vn(y,"top","top"),Q=V?V.scrollTop:void 0;He!==s&&(G=i[ie],ut=!1,_t=!N&&d.invertSwap||X),Z=Ri(e,s,i,u,N?1:d.swapThreshold,d.invertedSwapThreshold==null?d.swapThreshold:d.invertedSwapThreshold,_t,He===s);var F;if(Z!==0){var ee=me(y);do ee-=Z,F=Y.children[ee];while(F&&(M(F,"display")==="none"||F===$))}if(Z===0||F===s)return I(!1);He=s,ct=Z;var w=s.nextElementSibling,S=!1;S=Z===1;var O=xt(U,n,y,o,s,i,e,S);if(O!==!1)return(O===1||O===-1)&&(S=O===1),hn=!0,setTimeout(Pi,30),_(),S&&!w?n.appendChild(y):s.parentNode.insertBefore(y,S?w:s),V&&Ss(V,0,Q-V.scrollTop),Y=y.parentNode,G!==void 0&&!_t&&(Ot=Math.abs(G-J(s)[ie])),T(),I(!0)}if(n.contains(y))return I(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){P(document,"mousemove",this._onTouchMove),P(document,"touchmove",this._onTouchMove),P(document,"pointermove",this._onTouchMove),P(document,"dragover",Re),P(document,"mousemove",Re),P(document,"touchmove",Re)},_offUpEvents:function(){var e=this.el.ownerDocument;P(e,"mouseup",this._onDrop),P(e,"touchend",this._onDrop),P(e,"pointerup",this._onDrop),P(e,"touchcancel",this._onDrop),P(document,"selectstart",this)},_onDrop:function(e){var n=this.el,s=this.options;if(ce=me(y),Ae=me(y,s.draggable),ae("drop",this,{evt:e}),Y=y&&y.parentNode,ce=me(y),Ae=me(y,s.draggable),k.eventCanceled){this._nulling();return}Ue=!1,_t=!1,ut=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),gn(this.cloneId),gn(this._dragStartId),this.nativeDraggable&&(P(document,"drop",this),P(n,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),rt&&M(document.body,"user-select",""),M(y,"transform",""),e&&(st&&(e.cancelable&&e.preventDefault(),!s.dropBubble&&e.stopPropagation()),$&&$.parentNode&&$.parentNode.removeChild($),(U===Y||te&&te.lastPutMode!=="clone")&&W&&W.parentNode&&W.parentNode.removeChild(W),y&&(this.nativeDraggable&&P(y,"dragend",this),nn(y),y.style["will-change"]="",st&&!Ue&&de(y,te?te.options.ghostClass:this.options.ghostClass,!1),de(y,this.options.chosenClass,!1),oe({sortable:this,name:"unchoose",toEl:Y,newIndex:null,newDraggableIndex:null,originalEvent:e}),U!==Y?(ce>=0&&(oe({rootEl:Y,name:"add",toEl:Y,fromEl:U,originalEvent:e}),oe({sortable:this,name:"remove",toEl:Y,originalEvent:e}),oe({rootEl:Y,name:"sort",toEl:Y,fromEl:U,originalEvent:e}),oe({sortable:this,name:"sort",toEl:Y,originalEvent:e})),te&&te.save()):ce!==Ge&&ce>=0&&(oe({sortable:this,name:"update",toEl:Y,originalEvent:e}),oe({sortable:this,name:"sort",toEl:Y,originalEvent:e})),k.active&&((ce==null||ce===-1)&&(ce=Ge,Ae=dt),oe({sortable:this,name:"end",toEl:Y,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){ae("nulling",this),U=y=Y=$=je=W=$t=Le=Fe=fe=st=ce=Ae=Ge=dt=He=ct=te=wt=k.dragged=k.ghost=k.clone=k.active=null,Bt.forEach(function(e){e.checked=!0}),Bt.length=Qt=en=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":y&&(this._onDragOver(e),Li(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],n,s=this.el.children,o=0,i=s.length,a=this.options;o<i;o++)n=s[o],pe(n,a.draggable,this.el,!1)&&e.push(n.getAttribute(a.dataIdAttr)||Bi(n));return e},sort:function(e,n){var s={},o=this.el;this.toArray().forEach(function(i,a){var d=o.children[a];pe(d,this.options.draggable,o,!1)&&(s[i]=d)},this),n&&this.captureAnimationState(),e.forEach(function(i){s[i]&&(o.removeChild(s[i]),o.appendChild(s[i]))}),n&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,n){return pe(e,n||this.options.draggable,this.el,!1)},option:function(e,n){var s=this.options;if(n===void 0)return s[e];var o=mt.modifyOption(this,e,n);typeof o<"u"?s[e]=o:s[e]=n,e==="group"&&Is(s)},destroy:function(){ae("destroy",this);var e=this.el;e[he]=null,P(e,"mousedown",this._onTapStart),P(e,"touchstart",this._onTapStart),P(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(P(e,"dragover",this),P(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(n){n.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),jt.splice(jt.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!Le){if(ae("hideClone",this),k.eventCanceled)return;M(W,"display","none"),this.options.removeCloneOnHide&&W.parentNode&&W.parentNode.removeChild(W),Le=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(Le){if(ae("showClone",this),k.eventCanceled)return;y.parentNode==U&&!this.options.group.revertClone?U.insertBefore(W,y):je?U.insertBefore(W,je):U.appendChild(W),this.options.group.revertClone&&this.animate(y,W),M(W,"display",""),Le=!1}}};function Li(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault()}function xt(t,e,n,s,o,i,a,d){var l,c=t[he],h=c.options.onMove,g;return window.CustomEvent&&!Oe&&!gt?l=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(l=document.createEvent("Event"),l.initEvent("move",!0,!0)),l.to=e,l.from=t,l.dragged=n,l.draggedRect=s,l.related=o||e,l.relatedRect=i||J(e),l.willInsertAfter=d,l.originalEvent=a,t.dispatchEvent(l),h&&(g=h.call(c,l,a)),g}function nn(t){t.draggable=!1}function Pi(){hn=!1}function Ni(t,e,n){var s=J(Xe(n.el,0,n.options,!0)),o=Es(n.el,n.options,$),i=10;return e?t.clientX<o.left-i||t.clientY<s.top&&t.clientX<s.right:t.clientY<o.top-i||t.clientY<s.bottom&&t.clientX<s.left}function Fi(t,e,n){var s=J(xn(n.el,n.options.draggable)),o=Es(n.el,n.options,$),i=10;return e?t.clientX>o.right+i||t.clientY>s.bottom&&t.clientX>s.left:t.clientY>o.bottom+i||t.clientX>s.right&&t.clientY>s.top}function Ri(t,e,n,s,o,i,a,d){var l=s?t.clientY:t.clientX,c=s?n.height:n.width,h=s?n.top:n.left,g=s?n.bottom:n.right,m=!1;if(!a){if(d&&Ot<c*o){if(!ut&&(ct===1?l>h+c*i/2:l<g-c*i/2)&&(ut=!0),ut)m=!0;else if(ct===1?l<h+Ot:l>g-Ot)return-ct}else if(l>h+c*(1-o)/2&&l<g-c*(1-o)/2)return ji(e)}return m=m||a,m&&(l<h+c*i/2||l>g-c*i/2)?l>h+c/2?1:-1:0}function ji(t){return me(y)<me(t)?1:-1}function Bi(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,n=e.length,s=0;n--;)s+=e.charCodeAt(n);return s.toString(36)}function zi(t){Bt.length=0;for(var e=t.getElementsByTagName("input"),n=e.length;n--;){var s=e[n];s.checked&&Bt.push(s)}}function Dt(t){return setTimeout(t,0)}function gn(t){return clearTimeout(t)}Vt&&R(document,"touchmove",function(t){(k.active||Ue)&&t.cancelable&&t.preventDefault()});k.utils={on:R,off:P,css:M,find:ws,is:function(e,n){return!!pe(e,n,e,!1)},extend:xi,throttle:_s,closest:pe,toggleClass:de,clone:xs,index:me,nextTick:Dt,cancelNextTick:gn,detectDirection:ks,getChild:Xe};k.get=function(t){return t[he]};k.mount=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e[0].constructor===Array&&(e=e[0]),e.forEach(function(s){if(!s.prototype||!s.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(s));s.utils&&(k.utils=Ee(Ee({},k.utils),s.utils)),mt.mount(s)})};k.create=function(t,e){return new k(t,e)};k.version=wi;var q=[],ot,mn,fn=!1,sn,on,zt,it;function Hi(){function t(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return t.prototype={dragStarted:function(n){var s=n.originalEvent;this.sortable.nativeDraggable?R(document,"dragover",this._handleAutoScroll):this.options.supportPointer?R(document,"pointermove",this._handleFallbackAutoScroll):s.touches?R(document,"touchmove",this._handleFallbackAutoScroll):R(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(n){var s=n.originalEvent;!this.options.dragOverBubble&&!s.rootEl&&this._handleAutoScroll(s)},drop:function(){this.sortable.nativeDraggable?P(document,"dragover",this._handleAutoScroll):(P(document,"pointermove",this._handleFallbackAutoScroll),P(document,"touchmove",this._handleFallbackAutoScroll),P(document,"mousemove",this._handleFallbackAutoScroll)),Kn(),At(),Ei()},nulling:function(){zt=mn=ot=fn=it=sn=on=null,q.length=0},_handleFallbackAutoScroll:function(n){this._handleAutoScroll(n,!0)},_handleAutoScroll:function(n,s){var o=this,i=(n.touches?n.touches[0]:n).clientX,a=(n.touches?n.touches[0]:n).clientY,d=document.elementFromPoint(i,a);if(zt=n,s||this.options.forceAutoScrollFallback||gt||Oe||rt){an(n,this.options,d,s);var l=Pe(d,!0);fn&&(!it||i!==sn||a!==on)&&(it&&Kn(),it=setInterval(function(){var c=Pe(document.elementFromPoint(i,a),!0);c!==l&&(l=c,At()),an(n,o.options,c,s)},10),sn=i,on=a)}else{if(!this.options.bubbleScroll||Pe(d,!0)===xe()){At();return}an(n,this.options,Pe(d,!1),!1)}}},Te(t,{pluginName:"scroll",initializeByDefault:!0})}function At(){q.forEach(function(t){clearInterval(t.pid)}),q=[]}function Kn(){clearInterval(it)}var an=_s(function(t,e,n,s){if(e.scroll){var o=(t.touches?t.touches[0]:t).clientX,i=(t.touches?t.touches[0]:t).clientY,a=e.scrollSensitivity,d=e.scrollSpeed,l=xe(),c=!1,h;mn!==n&&(mn=n,At(),ot=e.scroll,h=e.scrollFn,ot===!0&&(ot=Pe(n,!0)));var g=0,m=ot;do{var u=m,p=J(u),b=p.top,E=p.bottom,_=p.left,I=p.right,T=p.width,A=p.height,H=void 0,Z=void 0,G=u.scrollWidth,X=u.scrollHeight,N=M(u),ie=u.scrollLeft,V=u.scrollTop;u===l?(H=T<G&&(N.overflowX==="auto"||N.overflowX==="scroll"||N.overflowX==="visible"),Z=A<X&&(N.overflowY==="auto"||N.overflowY==="scroll"||N.overflowY==="visible")):(H=T<G&&(N.overflowX==="auto"||N.overflowX==="scroll"),Z=A<X&&(N.overflowY==="auto"||N.overflowY==="scroll"));var Q=H&&(Math.abs(I-o)<=a&&ie+T<G)-(Math.abs(_-o)<=a&&!!ie),F=Z&&(Math.abs(E-i)<=a&&V+A<X)-(Math.abs(b-i)<=a&&!!V);if(!q[g])for(var ee=0;ee<=g;ee++)q[ee]||(q[ee]={});(q[g].vx!=Q||q[g].vy!=F||q[g].el!==u)&&(q[g].el=u,q[g].vx=Q,q[g].vy=F,clearInterval(q[g].pid),(Q!=0||F!=0)&&(c=!0,q[g].pid=setInterval((function(){s&&this.layer===0&&k.active._onTouchMove(zt);var w=q[this.layer].vy?q[this.layer].vy*d:0,S=q[this.layer].vx?q[this.layer].vx*d:0;typeof h=="function"&&h.call(k.dragged.parentNode[he],S,w,t,zt,q[this.layer].el)!=="continue"||Ss(q[this.layer].el,S,w)}).bind({layer:g}),24))),g++}while(e.bubbleScroll&&m!==l&&(m=Pe(m,!1)));fn=c}},30),$s=function(e){var n=e.originalEvent,s=e.putSortable,o=e.dragEl,i=e.activeSortable,a=e.dispatchSortableEvent,d=e.hideGhostForTarget,l=e.unhideGhostForTarget;if(n){var c=s||i;d();var h=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:n,g=document.elementFromPoint(h.clientX,h.clientY);l(),c&&!c.el.contains(g)&&(a("spill"),this.onSpill({dragEl:o,putSortable:s}))}};function En(){}En.prototype={startIndex:null,dragStart:function(e){var n=e.oldDraggableIndex;this.startIndex=n},onSpill:function(e){var n=e.dragEl,s=e.putSortable;this.sortable.captureAnimationState(),s&&s.captureAnimationState();var o=Xe(this.sortable.el,this.startIndex,this.options);o?this.sortable.el.insertBefore(n,o):this.sortable.el.appendChild(n),this.sortable.animateAll(),s&&s.animateAll()},drop:$s};Te(En,{pluginName:"revertOnSpill"});function Mn(){}Mn.prototype={onSpill:function(e){var n=e.dragEl,s=e.putSortable,o=s||this.sortable;o.captureAnimationState(),n.parentNode&&n.parentNode.removeChild(n),o.animateAll()},drop:$s};Te(Mn,{pluginName:"removeOnSpill"});k.mount(new Hi);k.mount(Mn,En);const Ui="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20aria-hidden='true'%20width='1em'%20height='1em'%20style='-ms-transform:rotate(360deg);-webkit-transform:rotate(360deg);transform:rotate(360deg)'%20viewBox='0%200%2024%2024'%3e%3cpath%20d='M8.5%2010a2%202%200%201%200%202%202%202%202%200%200%200-2-2zm0%207a2%202%200%201%200%202%202%202%202%200%200%200-2-2zm7-10a2%202%200%201%200-2-2%202%202%200%200%200%202%202zm-7-4a2%202%200%201%200%202%202%202%202%200%200%200-2-2zm7%2014a2%202%200%201%200%202%202%202%202%200%200%200-2-2zm0-7a2%202%200%201%200%202%202%202%202%200%200%200-2-2z'%20fill='%23fff'/%3e%3c/svg%3e",Vi="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='512'%20height='512'%20viewBox='0%200%2024%2024'%20style='-ms-transform:rotate(360deg);-webkit-transform:rotate(360deg);transform:rotate(360deg)'%3e%3cpath%20d='M19%2011h-6V5a1%201%200%200%200-2%200v6H5a1%201%200%200%200%200%202h6v6a1%201%200%200%200%202%200v-6h6a1%201%200%200%200%200-2z'%20fill='%23ff7b26'/%3e%3cpath%20fill='rgba(0,%200,%200,%200)'%20d='M0%200h24v24H0z'/%3e%3c/svg%3e",Os="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='24'%20height='24'%20style='-ms-transform:rotate(360deg);-webkit-transform:rotate(360deg);transform:rotate(360deg)'%3e%3cpath%20d='M3%2011a1%201%200%200%201%201%201%208.05%208.05%200%201%200%202.22-5.5h2.4a1%201%200%200%201%200%202H4.09a1%201%200%200%201-1-1V3a1%201%200%200%201%202%200v1.77A10%2010%200%201%201%202%2012a1%201%200%200%201%201-1z'%20fill='%23FF7B26'/%3e%3cpath%20fill='rgba(0,%200,%200,%200)'%20d='M0%200h24v24H0z'/%3e%3c/svg%3e",Wi={components:{Picker:ii,ResetDropdown:pi},props:["addon","tableChild","setting","addon-settings"],data(){var t;return{rowDropdownOpen:!1,noResetDropdown:["table","boolean","select"].includes((t=this.setting)==null?void 0:t.type)}},mounted(){Ne.$on("close-reset-dropdowns",t=>{this.rowDropdownOpen&&this.setting.id!==t&&(this.rowDropdownOpen=!1)})},computed:{show(){return!!(!this.setting.if||this.setting.if.addonEnabled&&(Array.isArray(this.setting.if.addonEnabled)?this.setting.if.addonEnabled:[this.setting.if.addonEnabled]).some(e=>this.$root.manifestsById[e]._enabled===!0)||this.setting.if.settings&&Object.keys(this.setting.if.settings).some(e=>(Array.isArray(this.setting.if.settings[e])?this.setting.if.settings[e]:[this.setting.if.settings[e]]).some(s=>{var o,i;return this.addonSettings[e]===s||((i=(o=this.$parent)==null?void 0:o.addonSettings)==null?void 0:i[e])===s}))===!0)},showResetDropdown(){return!this.tableChild&&this.addon.presets&&this.addon.presets.some(t=>Object.prototype.hasOwnProperty.call(t.values,this.setting.id)&&(this.setting.type==="color"?t.values[this.setting.id].toLowerCase()!==this.setting.default.toLowerCase():t.values[this.setting.id]!==this.setting.default))},isNewOption(){if(!this.addon.latestUpdate)return!1;const[t,e,n]=this.$root.version.split("."),[s,o,i]=this.addon.latestUpdate.version.split(".");return t===s&&e===o?!!(this.addon.latestUpdate.newSettings&&this.addon.latestUpdate.newSettings.includes(this.setting.id)):!1}},methods:{updateTable(t){let e=this.addonSettings[this.setting.id];e.splice(t.newIndex,0,e.splice(t.oldIndex,1)[0]),this.updateSettings()},settingsName(t){const e=this.setting.name,n=/([\\]*)(@|#)([a-zA-Z0-9.\-\/_]*)/g;return e.replace(n,s=>{if(s[0]==="\\")return s.slice(1);if(s[0]==="@")return`<img class="inline-icon" src="../../images/icons/${s.split("@")[1]}"/>`;if(s[0]==="#")return`<img class="inline-icon" src="../../addons/${t._addonId}/${s.split("#")[1]}"/>`})},checkValidity(t){let e=t.target;this.addonSettings[this.setting.id]=e.validity.valid?e.value:this.setting.default},keySettingKeyDown(t){t.preventDefault(),t.target.value=t.ctrlKey?"Ctrl"+(t.shiftKey?" + Shift":"")+(t.key==="Control"||t.key==="Shift"?"":(t.ctrlKey?" + ":"")+(t.key.toUpperCase()===t.key?t.code.includes("Digit")?t.code.substring(5,t.code.length):t.key:t.key.toUpperCase())):""},keySettingKeyUp(t){t.target.value==="Ctrl"&&(t.target.value=""),this.updateOption(t.target.value)},getTableSetting(t){return this.setting.row.find(e=>e.id===t)},deleteTableRow(t){this.addonSettings[this.setting.id].splice(t,1),this.updateSettings()},addTableRow(t={}){const e=Object.assign({},this.setting.row.reduce((n,s)=>(n[s.id]=s.default,n),{}),t);this.addonSettings[this.setting.id].push(e),this.updateSettings(),this.rowDropdownOpen&&this.toggleRowDropdown()},toggleRowDropdown(){this.rowDropdownOpen=!this.rowDropdownOpen,this.$root.closePickers({isTrusted:!0},null,{callCloseDropdowns:!1}),this.$root.closeResetDropdowns({isTrusted:!0},this.setting.id)},msg(...t){return this.$root.msg(...t)},updateSettings(...t){t[0]||(t[0]=this.addon),this.$root.updateSettings(...t)},updateOption(t){this.addonSettings[this.setting.id]=t,this.updateSettings()},closePickers(...t){return this.$root.closePickers(...t)},closeResetDropdowns(...t){return this.$root.closeResetDropdowns(...t)}},directives:{sortable:{mounted:(t,e,n)=>{const s=new k(t,{handle:".handle",animation:300,onUpdate:e.value.update,disabled:!e.value.enabled});Ne.$on(`toggle-addon-request-${e.value.id}`,o=>{s.option("disabled",!o)})}}}},Gi={class:"setting-label-container"},Yi=["innerHTML"],Xi={key:0,class:"setting-table"},Ki={class:"setting-table-list"},qi={class:"setting-table-row"},Ji={class:"setting-table-options"},Zi=["disabled","onClick"],Qi=r("img",{class:"icon-type",src:hs},null,-1),ea=[Qi],ta=["disabled"],na=r("img",{class:"icon-type",src:Ui},null,-1),sa=[na],oa={class:"setting-table-row-settings"},ia=["disabled"],aa=r("img",{class:"icon-type",src:Vi},null,-1),ra=[aa],la=["disabled"],da=r("img",{class:"icon-type",src:Ut},null,-1),ca=[da],ua=["onClick"],ha=["disabled"],ga={key:2,class:"filter-options"},ma=["onClick"],fa=["disabled"],pa=["disabled","min","max"],va=["disabled","placeholder","maxlength","minlength","required"],ba=["disabled","placeholder"],ya=["disabled","title"],wa=r("img",{src:Os,class:"icon-type"},null,-1),_a=[wa];function Sa(t,e,n,s,o,i){const a=ve("addon-tag"),d=ve("AddonSetting",!0),l=ve("picker"),c=ve("reset-dropdown"),h=Lt("sortable"),g=Lt("click-outside");return j((f(),v("div",{class:z(["addon-setting",{"boolean-setting":n.setting.type==="boolean","number-setting":n.setting.type==="integer"||n.setting.type==="positive_integer"}])},[r("div",Gi,[r("div",{class:"setting-label",innerHTML:i.settingsName(n.addon)},null,8,Yi),i.isNewOption?(f(),be(a,{key:0,tag:"new"})):D("",!0)]),o.noResetDropdown?(f(),v(B,{key:0},[n.setting.type==="table"?(f(),v("div",Xi,[j((f(),v("div",Ki,[(f(!0),v(B,null,K(t.addonSettings[n.setting.id],(m,u)=>(f(),v("div",qi,[r("div",Ji,[r("button",{disabled:!n.addon._enabled,class:"addon-buttons",onClick:p=>i.deleteTableRow(u)},ea,8,Zi),r("button",{disabled:!n.addon._enabled,class:"addon-buttons handle"},sa,8,ta)]),r("div",oa,[(f(!0),v(B,null,K(m,(p,b)=>(f(),be(d,{addon:n.addon,"table-child":!0,setting:i.getTableSetting(b),"addon-settings":m},null,8,["addon","setting","addon-settings"]))),256))])]))),256))])),[[h,{update:i.updateTable,enabled:n.addon._enabled,id:n.addon.id}]]),r("div",{class:z(["addon-split-button setting-table-dropdown",{open:o.rowDropdownOpen}])},[r("button",{disabled:!n.addon._enabled,class:"addon-buttons addon-split-button-button",onClick:e[0]||(e[0]=m=>i.addTableRow())},ra,8,ia),j((f(),v("div",null,[r("button",{disabled:!n.addon._enabled,class:"addon-buttons addon-split-button-dropdown",onClick:e[1]||(e[1]=(...m)=>i.toggleRowDropdown&&i.toggleRowDropdown(...m))},ca,8,la),r("ul",null,[(f(!0),v(B,null,K(n.setting.presets,m=>(f(),v("li",{onClick:u=>i.addTableRow(m.values)},x(m.name),9,ua))),256))])])),[[g,i.closeResetDropdowns]])],2)])):D("",!0),n.setting.type==="boolean"?j((f(),v("input",{key:1,type:"checkbox",class:"setting-input check","onUpdate:modelValue":e[2]||(e[2]=m=>t.addonSettings[n.setting.id]=m),onChange:e[3]||(e[3]=m=>i.updateSettings()),disabled:!n.addon._enabled},null,40,ha)),[[ts,t.addonSettings[n.setting.id]]]):D("",!0),n.setting.type==="select"?(f(),v("div",ga,[(f(!0),v(B,null,K(n.setting.potentialValues,m=>(f(),v("div",{class:z(["filter-option",{sel:t.addonSettings[n.setting.id]===m.id,disabled:!n.addon._enabled}]),onClick:u=>i.updateOption(m.id)},x(m.name),11,ma))),256))])):D("",!0)],64)):(f(),v("div",{key:1,class:z(["setting-input-container",{"full-radius":n.tableChild}])},[n.setting.type==="positive_integer"?j((f(),v("input",{key:0,type:"number",class:"setting-input number","onUpdate:modelValue":e[4]||(e[4]=m=>t.addonSettings[n.setting.id]=m),onChange:e[5]||(e[5]=m=>i.checkValidity(m)||i.updateSettings()),disabled:!n.addon._enabled,min:"0",number:""},null,40,fa)),[[tt,t.addonSettings[n.setting.id]]]):D("",!0),n.setting.type==="integer"?j((f(),v("input",{key:1,type:"number",class:"setting-input number","onUpdate:modelValue":e[6]||(e[6]=m=>t.addonSettings[n.setting.id]=m),onChange:e[7]||(e[7]=m=>i.checkValidity(m)||i.updateSettings()),disabled:!n.addon._enabled,min:n.setting.min,max:n.setting.max,number:""},null,40,pa)),[[tt,t.addonSettings[n.setting.id]]]):D("",!0),n.setting.type==="string"||n.setting.type==="untranslated"?j((f(),v("input",{key:2,type:"text",class:"setting-input string","onUpdate:modelValue":e[8]||(e[8]=m=>t.addonSettings[n.setting.id]=m),onChange:e[9]||(e[9]=m=>i.checkValidity(m)||i.updateSettings()),disabled:!n.addon._enabled,placeholder:n.setting.default,maxlength:n.setting.max||100,minlength:n.setting.min||0,required:!!n.setting.min},null,40,va)),[[tt,t.addonSettings[n.setting.id]]]):D("",!0),n.setting.type==="key"?j((f(),v("input",{key:3,type:"text",class:"setting-input","onUpdate:modelValue":e[10]||(e[10]=m=>t.addonSettings[n.setting.id]=m),onInput:e[11]||(e[11]=(...m)=>i.updateSettings&&i.updateSettings(...m)),onKeydown:e[12]||(e[12]=(...m)=>i.keySettingKeyDown&&i.keySettingKeyDown(...m)),onKeyup:e[13]||(e[13]=(...m)=>i.keySettingKeyUp&&i.keySettingKeyUp(...m)),disabled:!n.addon._enabled,placeholder:n.setting.default,maxlength:"100",spellcheck:"false"},null,40,ba)),[[tt,t.addonSettings[n.setting.id]]]):D("",!0),n.setting.type==="color"?j((f(),be(l,{key:4,modelValue:t.addonSettings[n.setting.id],"onUpdate:modelValue":e[14]||(e[14]=m=>t.addonSettings[n.setting.id]=m),setting:n.setting,addon:n.addon,alphaEnabled:n.setting.allowTransparency},null,8,["modelValue","setting","addon","alphaEnabled"])),[[g,i.closePickers]]):D("",!0),i.showResetDropdown?j((f(),be(c,{key:5,setting:n.setting,enabled:n.addon._enabled,presets:n.addon.presets},null,8,["setting","enabled","presets"])),[[g,i.closeResetDropdowns]]):D("",!0),!n.tableChild&&!i.showResetDropdown?(f(),v("button",{key:6,type:"button",class:"large-button clear-button",disabled:!n.addon._enabled,title:i.msg("reset"),onClick:e[15]||(e[15]=m=>i.updateOption(n.setting.default||""))},_a,8,ya)):D("",!0)],2))],2)),[[ne,i.show]])}const xa=we(Wi,[["render",Sa]]),Ea=window.parent!==window,Ma={props:["tag"],data(){return{}},computed:{tagInfo(){return us.find(t=>t.matchName===this.tag)},shouldShow(){return Ea?this.tagInfo&&this.tagInfo.iframeAlwaysShow:this.tagInfo&&(!this.tagInfo.addonTabShow||this.tagInfo.addonTabShow[this.$root.selectedCategory])},tagName(){return chrome.i18n.getMessage(this.tagInfo.name)},tagTooltip(){return chrome.i18n.getMessage(this.tagInfo.tooltipText)}}},ka={key:0,class:"tooltiptext"};function Ia(t,e,n,s,o,i){return i.shouldShow?(f(),v("div",{key:0,class:z(["badge",{tooltip:i.tagInfo.tooltipText,blue:i.tagInfo.color==="blue",yellow:i.tagInfo.color==="yellow",red:i.tagInfo.color==="red",darkred:i.tagInfo.color==="darkred",green:i.tagInfo.color==="green",darkgreen:i.tagInfo.color==="darkgreen",purple:i.tagInfo.color==="purple"}])},[re(x(i.tagName)+" ",1),i.tagInfo.tooltipText?(f(),v("span",ka,x(i.tagTooltip),1)):D("",!0)],2)):D("",!0)}const Ca=we(Ma,[["render",Ia]]);function ye(t){return{r:parseInt(t.substring(1,3),16),g:parseInt(t.substring(3,5),16),b:parseInt(t.substring(5,7),16),a:t.length>=9?parseInt(t.substring(7,9),16)/255:1}}function Et(t){return t=Math.round(t).toString(16),t.length===1?`0${t}`:t}function ft(t){const e=Et(t.r),n=Et(t.g),s=Et(t.b),o=t.a!==void 0?Et(255*t.a):"";return`#${e}${n}${s}${o}`}function Ds({h:t,s:e,v:n}){if(e===0)return{r:255*n,g:255*n,b:255*n};t%=360,t<0&&(t+=360);const s=t/60,o=Math.floor(s),i=n*(1-e*(1-s+o)),a=n*(1-e*(s-o)),d=n*(1-e);switch(o){case 0:return{r:255*n,g:255*i,b:255*d};case 1:return{r:255*a,g:255*n,b:255*d};case 2:return{r:255*d,g:255*n,b:255*i};case 3:return{r:255*d,g:255*a,b:255*n};case 4:return{r:255*i,g:255*d,b:255*n};case 5:return{r:255*n,g:255*d,b:255*a}}}function at({r:t,g:e,b:n}){t/=255,e/=255,n/=255;const s=Math.max(t,e,n),o=s-Math.min(t,e,n);if(o===0)return{h:0,s:0,v:s};const i=o/s,a=(s-t)/o,d=(s-e)/o,l=(s-n)/o;let c;return a?d?l||(c=4+d-a):c=2+a-l:c=l-d,{h:60*c%360,s:i,v:s}}function pn(t){const{r:e,g:n,b:s}=ye(t);return e*.299+n*.587+s*.114}function Ta(t,e,n,s){return s=s!==void 0?s:170,typeof s!="number"&&(s=pn(s)),pn(t)>s?e!==void 0?e:"#575e75":n!==void 0?n:"#ffffff"}function $a(t,e){const{r:n,g:s,b:o,a:i}=ye(t);return e.r===void 0&&(e.r=1),e.g===void 0&&(e.g=1),e.b===void 0&&(e.b=1),e.a===void 0&&(e.a=1),ft({r:e.r*n,g:e.g*s,b:e.b*o,a:e.a*i})}function Oa(t,e){const{r:n,g:s,b:o,a:i}=ye(t);return e.r===void 0&&(e.r=1),e.g===void 0&&(e.g=1),e.b===void 0&&(e.b=1),e.a===void 0&&(e.a=1),ft({r:(1-e.r)*255+e.r*n,g:(1-e.g)*255+e.g*s,b:(1-e.b)*255+e.b*o,a:1-e.a+e.a*i})}function Da(t,e){const{r:n,g:s,b:o}=ye(t),{r:i,g:a,b:d,a:l}=ye(e);return ft({r:(1-l)*n+l*i,g:(1-l)*s+l*a,b:(1-l)*o+l*d})}function Aa(t){return t.substring(0,7)}function La(t,e,n){const s=typeof t=="number"?t:at(ye(t)).h,o=typeof t!="number"&&at(ye(t)).s===0?0:typeof e=="number"?e:at(ye(e)).s,i=typeof n=="number"?n:at(ye(n)).v;return ft(Ds({h:s,s:o,v:i}))}function Pa(t){const{r:e,g:n,b:s}=ye(t);return`url("data:image/svg+xml,
    <svg xmlns='http://www.w3.org/2000/svg'>
      <filter id='recolor'>
        <feColorMatrix color-interpolation-filters='sRGB' values='
          0 0 0 0 ${e/255}
          0 0 0 0 ${n/255}
          0 0 0 0 ${s/255}
          0 0 0 1 0
        '/>
      </filter>
    </svg>#recolor
  ")`.split(`
`).join("")}globalThis.__scratchAddonsTextColor={parseHex:ye,convertToHex:ft,convertFromHsv:Ds,convertToHsv:at,brightness:pn,textColor:Ta,multiply:$a,brighten:Oa,alphaBlend:Da,removeAlpha:Aa,makeHsv:La,recolorFilter:Pa};const{parseHex:Nc,convertToHex:Fc,convertFromHsv:Rc,convertToHsv:jc,brightness:Bc,textColor:le,multiply:Ze,brighten:zc,alphaBlend:qn,removeAlpha:Hc,makeHsv:Jn,recolorFilter:Uc}=globalThis.__scratchAddonsTextColor,Na={props:["options","settings","hoveredSettingId"],data(){return{tabs:[{id:"code",textLength:4},{id:"costumes",textLength:8},{id:"sounds",textLength:6}],selectedTab:"code",fullScreenView:!1,blockCategories:[{primary:"#4c97ff",tertiary:"#3373cc",textLength:[6]},{primary:"#9966ff",tertiary:"#774dcb",textLength:[5]},{primary:"#cf63cf",tertiary:"#bd42bd",textLength:[5]},{primary:"#ffd500",tertiary:"#cc9900",textLength:[6]},{primary:"#ffab19",tertiary:"#cf8b17",textLength:[7]},{primary:"#5cb1d6",tertiary:"#2e8eb8",textLength:[7]},{primary:"#59c059",tertiary:"#389438",textLength:[9]},{primary:"#ff8c1a",tertiary:"#db6e00",textLength:[9]},{primary:"#ff6680",tertiary:"#ff3355",textLength:[2,6]}],soundEffects:[{textLength:[6]},{textLength:[6]},{textLength:[6]},{textLength:[6]},{textLength:[4]},{textLength:[4,2]},{textLength:[4,3]},{textLength:[7]},{textLength:[7]}]}},computed:{colors(){return{primaryText:le(this.settings.primary),menuBarText:le(this.settings.menuBar),accentText:le(this.settings.accent),inputText:le(this.settings.input),categoryMenuText:le(this.settings.categoryMenu),selectorText:le(this.settings.selector),selector2Text:le(this.settings.selector2),pageText:le(this.settings.page,"rgba(87, 94, 117, 0.75)","rgba(255, 255, 255, 0.75)"),menuBarBorder:le(this.settings.menuBar,"rgba(0, 0, 0, 0.15)","rgba(255, 255, 255, 0.15)",60),accentTransparentText:le(this.settings.accent,"rgba(87, 94, 117, 0.75)","rgba(255, 255, 255, 0.75)"),accentArtboard:this.settings.affectPaper?this.settings.accent:"#ffffff",accentCheckerboard:this.settings.affectPaper?Ze(le(this.settings.accent,qn(this.settings.accent,Ze(Jn(this.settings.primary,1,.67),{a:.15})),qn(this.settings.accent,Ze(Jn(this.settings.primary,.5,1),{a:.15})),112),{a:.55}):"#d9e3f28c",tabText:le(this.settings.tab,"rgba(87, 94, 117, 0.75)","rgba(255, 255, 255, 0.75)"),categoryMenuSelection:le(this.settings.categoryMenu,"rgba(87, 124, 155, 0.13)","rgba(255, 255, 255, 0.05)"),primaryTransparent:Ze(this.settings.primary,{a:.35}),inputTransparent:Ze(this.settings.input,{a:.25})}}},methods:{selectTab(t){this.selectedTab=t,this.$emit("areahover","activeTab")},toggleFullScreenView(){this.fullScreenView=!this.fullScreenView},cssVariables(t){return Object.entries(t).map(([e,n])=>`${e}: ${n};`).join(`
`)}}},Fa=["data-setting-hovered"],Ra=$e('<div class="edm-logo-placeholder"></div><div class="edm-menu-bar-menu edm-icon-placeholder edm-icon-placeholder-20px"></div><div class="edm-menu-bar-menu edm-icon-placeholder edm-icon-placeholder-20px"></div><div class="edm-menu-bar-menu edm-icon-placeholder edm-icon-placeholder-20px"></div><div class="edm-menu-bar-input"><div class="edm-text-placeholder" style="--length:8;"></div><div class="edm-text-placeholder" style="--length:1;"></div></div><div class="edm-menu-bar-button edm-menu-bar-share"><div class="edm-text-placeholder" style="--length:5;"></div></div><div class="edm-menu-bar-button"><div class="edm-icon-placeholder edm-icon-placeholder-20px"></div><div class="edm-text-placeholder" style="--length:3;"></div><div class="edm-text-placeholder" style="--length:7;"></div><div class="edm-text-placeholder" style="--length:4;"></div></div><div class="edm-menu-bar-separator"></div><div class="edm-menu-bar-menu"><div class="edm-icon-placeholder edm-icon-placeholder-20px"></div><div class="edm-text-placeholder" style="--length:9;"></div></div><div class="edm-spacer"></div><div class="edm-menu-bar-menu edm-icon-placeholder edm-icon-placeholder-24px"></div><div class="edm-menu-bar-menu"><div class="edm-menu-bar-button edm-avatar-placeholder"></div><div class="edm-text-placeholder" style="--length:10;"></div></div>',12),ja=[Ra],Ba={class:"edm-main"},za={class:"edm-left"},Ha={class:"edm-tabs"},Ua=["onMouseenter","onClick"],Va=r("div",{class:"edm-icon-placeholder edm-icon-placeholder-20px"},null,-1),Wa={key:0,class:"edm-tab-content edm-workspace"},Ga={class:"edm-category-label"},Ya=r("div",{class:"edm-spacer"},null,-1),Xa=r("div",{class:"edm-icon-placeholder edm-icon-placeholder-24px"},null,-1),Ka=[Xa],qa=r("div",{class:"edm-asset-image"},[r("div",{class:"edm-icon-placeholder edm-icon-placeholder-24px"})],-1),Ja=r("div",{class:"edm-text-placeholder edm-text-placeholder-small",style:{"--length":"7"}},null,-1),Za=[Ja],Qa=r("div",{class:"edm-icon-placeholder edm-icon-placeholder-20px"},null,-1),er=[Qa],tr=$e('<div class="edm-asset edm-asset"><div class="edm-asset-image"><div class="edm-icon-placeholder edm-icon-placeholder-24px"></div></div><div class="edm-asset-name"><div class="edm-text-placeholder edm-text-placeholder-small" style="--length:5;"></div></div></div><div class="edm-asset edm-asset"><div class="edm-asset-image"><div class="edm-icon-placeholder edm-icon-placeholder-24px"></div></div><div class="edm-asset-name"><div class="edm-text-placeholder edm-text-placeholder-small" style="--length:3;"></div><div class="edm-text-placeholder edm-text-placeholder-small" style="--length:1;"></div></div></div>',2),nr=r("div",{class:"edm-icon-placeholder edm-icon-placeholder-24px"},null,-1),sr=[nr],or={key:0,class:"edm-asset-editor"},ir={class:"edm-toolbar"},ar=r("div",{class:"edm-text-placeholder edm-text-placeholder-small",style:{"--length":"7"}},null,-1),rr=r("div",{class:"edm-text-placeholder edm-text-placeholder-small",style:{"--length":"8"}},null,-1),lr=[rr],dr=$e('<div><div class="edm-outlined-button edm-outlined-button-first edm-outlined-button-colored-icon"><div class="edm-icon-placeholder edm-icon-placeholder-20px"></div></div><div class="edm-outlined-button edm-outlined-button-last edm-outlined-button-colored-icon"><div class="edm-icon-placeholder edm-icon-placeholder-20px"></div></div></div><div><div class="edm-tool-button"><div class="edm-icon-placeholder edm-icon-placeholder-24px"></div><div class="edm-text-placeholder edm-text-placeholder-small" style="--length:6;"></div></div><div class="edm-tool-button"><div class="edm-icon-placeholder edm-icon-placeholder-24px"></div><div class="edm-text-placeholder edm-text-placeholder-small" style="--length:8;"></div></div></div><div class="edm-toolbar-separator"></div><div><div class="edm-tool-button"><div class="edm-icon-placeholder edm-icon-placeholder-24px"></div><div class="edm-text-placeholder edm-text-placeholder-small" style="--length:7;"></div></div><div class="edm-tool-button"><div class="edm-icon-placeholder edm-icon-placeholder-24px"></div><div class="edm-text-placeholder edm-text-placeholder-small" style="--length:8;"></div></div></div><div class="edm-toolbar-separator"></div><div><div class="edm-tool-button"><div class="edm-icon-placeholder edm-icon-placeholder-24px"></div><div class="edm-text-placeholder edm-text-placeholder-small" style="--length:5;"></div></div><div class="edm-tool-button"><div class="edm-icon-placeholder edm-icon-placeholder-24px"></div><div class="edm-text-placeholder edm-text-placeholder-small" style="--length:4;"></div></div></div>',6),cr={class:"edm-toolbar"},ur=r("div",null,[r("div",{class:"edm-text-placeholder edm-text-placeholder-small",style:{"--length":"4"}}),r("div",{class:"edm-outlined-button edm-outlined-button-first edm-paint-picker-color"}),r("div",{class:"edm-outlined-button edm-outlined-button-last edm-paint-picker-arrow"})],-1),hr=r("div",{class:"edm-text-placeholder edm-text-placeholder-small",style:{"--length":"7"}},null,-1),gr=r("div",{class:"edm-outlined-button edm-outlined-button-first edm-paint-picker-color"},null,-1),mr=r("div",{class:"edm-outlined-button edm-outlined-button-last edm-paint-picker-arrow"},null,-1),fr=r("div",{class:"edm-text-placeholder edm-text-placeholder-small",style:{"--length":"2"}},null,-1),pr=[fr],vr=$e('<div class="edm-toolbar-separator"></div><div><div class="edm-tool-button"><div class="edm-icon-placeholder edm-icon-placeholder-24px"></div><div class="edm-text-placeholder edm-text-placeholder-small" style="--length:4;"></div></div><div class="edm-tool-button"><div class="edm-icon-placeholder edm-icon-placeholder-24px"></div><div class="edm-text-placeholder edm-text-placeholder-small" style="--length:5;"></div></div></div><div class="edm-toolbar-separator"></div><div><div class="edm-tool-button"><div class="edm-icon-placeholder edm-icon-placeholder-24px"></div><div class="edm-text-placeholder edm-text-placeholder-small" style="--length:6;"></div></div></div><div class="edm-toolbar-separator"></div><div><div class="edm-tool-button"><div class="edm-icon-placeholder edm-icon-placeholder-24px"></div><div><div class="edm-text-placeholder edm-text-placeholder-small" style="--length:4;"></div><div class="edm-text-placeholder edm-text-placeholder-small" style="--length:10;"></div></div></div><div class="edm-tool-button"><div class="edm-icon-placeholder edm-icon-placeholder-24px"></div><div><div class="edm-text-placeholder edm-text-placeholder-small" style="--length:4;"></div><div class="edm-text-placeholder edm-text-placeholder-small" style="--length:8;"></div></div></div></div>',6),br={class:"edm-paint-bottom"},yr={class:"edm-paint-tool-column"},wr=r("div",{class:"edm-icon-placeholder edm-icon-placeholder-24px"},null,-1),_r=[wr],Sr={class:"edm-paint-tool"},xr=r("div",{class:"edm-icon-placeholder edm-icon-placeholder-24px"},null,-1),Er=[xr],Mr={class:"edm-paint-tool-column"},kr={class:"edm-paint-tool"},Ir=r("div",{class:"edm-icon-placeholder edm-icon-placeholder-24px"},null,-1),Cr=[Ir],Tr={class:"edm-paint-canvas-and-controls"},$r=r("div",{class:"edm-paint-canvas"},null,-1),Or={class:"edm-paint-controls"},Dr=r("div",{class:"edm-icon-placeholder edm-icon-placeholder-20px"},null,-1),Ar=r("div",{class:"edm-text-placeholder",style:{"--length":"7"}},null,-1),Lr=r("div",{class:"edm-text-placeholder",style:{"--length":"2"}},null,-1),Pr=r("div",{class:"edm-text-placeholder",style:{"--length":"6"}},null,-1),Nr=[Dr,Ar,Lr,Pr],Fr=$e('<div class="edm-paint-zoom"><div class="edm-outlined-button edm-outlined-button-first"><div class="edm-icon-placeholder edm-icon-placeholder-20px"></div></div><div class="edm-outlined-button edm-outlined-button-middle"><div class="edm-icon-placeholder edm-icon-placeholder-20px"></div></div><div class="edm-outlined-button edm-outlined-button-last"><div class="edm-icon-placeholder edm-icon-placeholder-20px"></div></div></div>',1),Rr={key:1,class:"edm-asset-editor"},jr={class:"edm-toolbar"},Br=r("div",{class:"edm-text-placeholder edm-text-placeholder-small",style:{"--length":"5"}},null,-1),zr=r("div",{class:"edm-text-placeholder edm-text-placeholder-small",style:{"--length":"4"}},null,-1),Hr=[zr],Ur=$e('<div><div class="edm-outlined-button edm-outlined-button-first edm-outlined-button-colored-icon"><div class="edm-icon-placeholder edm-icon-placeholder-20px"></div></div><div class="edm-outlined-button edm-outlined-button-last edm-outlined-button-colored-icon"><div class="edm-icon-placeholder edm-icon-placeholder-20px"></div></div></div><div class="edm-toolbar-separator"></div><div><div class="edm-tool-button"><div class="edm-icon-placeholder edm-icon-placeholder-24px"></div><div class="edm-text-placeholder edm-text-placeholder-small" style="--length:4;"></div></div></div><div><div class="edm-tool-button"><div class="edm-icon-placeholder edm-icon-placeholder-24px"></div><div class="edm-text-placeholder edm-text-placeholder-small" style="--length:5;"></div></div></div><div><div class="edm-tool-button"><div class="edm-icon-placeholder edm-icon-placeholder-24px"></div><div><div class="edm-text-placeholder edm-text-placeholder-small" style="--length:4;"></div><div class="edm-text-placeholder edm-text-placeholder-small" style="--length:2;"></div><div class="edm-text-placeholder edm-text-placeholder-small" style="--length:3;"></div></div></div></div><div class="edm-toolbar-separator"></div><div><div class="edm-tool-button"><div class="edm-icon-placeholder edm-icon-placeholder-24px"></div><div class="edm-text-placeholder edm-text-placeholder-small" style="--length:6;"></div></div></div>',7),Vr=r("div",{class:"edm-waveform"},null,-1),Wr={class:"edm-toolbar edm-sound-effects"},Gr=r("div",{class:"edm-icon-placeholder edm-icon-placeholder-20px"},null,-1),Yr=[Gr],Xr=r("div",{class:"edm-toolbar-separator"},null,-1),Kr={class:"edm-tool-button"},qr=r("div",{class:"edm-icon-placeholder edm-icon-placeholder-20px"},null,-1),Jr=r("div",{class:"edm-text-placeholder",style:{"--length":"8"}},null,-1),Zr=[Jr],Qr={class:"edm-right"},el={class:"edm-stage-header"},tl=r("div",{class:"edm-icon-placeholder edm-icon-placeholder-20px edm-green-flag"},null,-1),nl=r("div",{class:"edm-icon-placeholder edm-icon-placeholder-20px edm-stop-sign"},null,-1),sl=r("div",{class:"edm-spacer"},null,-1),ol=r("div",{class:"edm-outlined-button edm-outlined-button-first edm-outlined-button-selected"},[r("div",{class:"edm-icon-placeholder edm-icon-placeholder-20px"})],-1),il=r("div",{class:"edm-outlined-button edm-outlined-button-last edm-outlined-button-unselected"},[r("div",{class:"edm-icon-placeholder edm-icon-placeholder-20px"})],-1),al=[ol,il],rl=r("div",{class:"edm-icon-placeholder edm-icon-placeholder-20px"},null,-1),ll=[rl],dl={class:"edm-targets"},cl={class:"edm-sprite-selector"},ul=$e('<div class="edm-sprite-info-row"><div><div class="edm-input"><div class="edm-text-placeholder edm-text-placeholder-small" style="--length:7;"></div></div></div></div><div class="edm-sprite-info-row"><div><div class="edm-text-placeholder edm-text-placeholder-small" style="--length:1;"></div><div class="edm-input edm-input-number"><div class="edm-text-placeholder edm-text-placeholder-small" style="--length:1;"></div></div></div><div><div class="edm-text-placeholder edm-text-placeholder-small" style="--length:1;"></div><div class="edm-input edm-input-number"><div class="edm-text-placeholder edm-text-placeholder-small" style="--length:1;"></div></div></div></div>',2),hl=[ul],gl={class:"edm-sprite-list"},ml=r("div",{class:"edm-asset-image"},[r("div",{class:"edm-icon-placeholder edm-icon-placeholder-24px"})],-1),fl=r("div",{class:"edm-text-placeholder edm-text-placeholder-small",style:{"--length":"7"}},null,-1),pl=[fl],vl=r("div",{class:"edm-icon-placeholder edm-icon-placeholder-20px"},null,-1),bl=[vl],yl=$e('<div class="edm-asset edm-asset"><div class="edm-asset-image"><div class="edm-icon-placeholder edm-icon-placeholder-24px"></div></div><div class="edm-asset-name"><div class="edm-text-placeholder edm-text-placeholder-small" style="--length:5;"></div></div></div><div class="edm-asset edm-asset"><div class="edm-asset-image"><div class="edm-icon-placeholder edm-icon-placeholder-24px"></div></div><div class="edm-asset-name"><div class="edm-text-placeholder edm-text-placeholder-small" style="--length:3;"></div><div class="edm-text-placeholder edm-text-placeholder-small" style="--length:1;"></div></div></div>',2),wl=r("div",{class:"edm-icon-placeholder edm-icon-placeholder-24px"},null,-1),_l=[wl],Sl=$e('<div class="edm-stage-title"><div class="edm-text-placeholder edm-text-placeholder-small" style="--length:5;"></div></div><div class="edm-stage-image"></div><div class="edm-stage-info"><div class="edm-text-placeholder edm-text-placeholder-small" style="--length:9;"></div></div><div class="edm-stage-info"><div class="edm-text-placeholder edm-text-placeholder-small" style="--length:1;"></div></div>',4),xl=r("div",{class:"edm-icon-placeholder edm-icon-placeholder-24px"},null,-1),El=[xl],Ml={class:"edm-fullscreen-controls-inner"},kl=r("div",null,[r("div",{class:"edm-icon-placeholder edm-icon-placeholder-20px edm-green-flag"}),r("div",{class:"edm-icon-placeholder edm-icon-placeholder-20px edm-stop-sign"})],-1),Il=r("div",{class:"edm-icon-placeholder edm-icon-placeholder-20px"},null,-1),Cl=[Il];function Tl(t,e,n,s,o,i){return f(),v("div",{role:"presentation",class:"edm-preview","data-setting-hovered":n.hoveredSettingId,onMouseenter:e[69]||(e[69]=a=>t.$emit("areahover","page")),onMouseleave:e[70]||(e[70]=a=>t.$emit("areahover",null)),style:_e(i.cssVariables({"--page":n.settings.page,"--page-text":i.colors.pageText,"--primary":n.settings.primary,"--primary-transparent15":i.colors.primaryTransparent15,"--primary-transparent35":i.colors.primaryTransparent35,"--primary-text":i.colors.primaryText,"--highlightText":n.settings.highlightText,"--menuBar":n.settings.menuBar,"--menuBar-text":i.colors.menuBarText,"--menuBar-border":i.colors.menuBarBorder,"--accent":n.settings.accent,"--accent-text":i.colors.accentText,"--accent-transparentText":i.colors.accentTransparentText,"--accent-artboard":i.colors.accentArtboard,"--accent-checkerboard":i.colors.accentCheckerboard,"--input":n.settings.input,"--input-transparent":i.colors.inputTransparent,"--input-text":i.colors.inputText,"--tab":n.settings.tab,"--tab-text":i.colors.tabText,"--activeTab":n.settings.activeTab,"--workspace":n.settings.workspace,"--categoryMenu":n.settings.categoryMenu,"--categoryMenu-text":i.colors.categoryMenuText,"--categoryMenu-selection":i.colors.categoryMenuSelection,"--palette":n.settings.palette,"--selector":n.settings.selector,"--selector-text":i.colors.selectorText,"--selector2":n.settings.selector2,"--selector2-text":i.colors.selector2Text,"--selectorSelection":n.settings.selectorSelection,"--fullscreen":n.settings.fullscreen,"--stageHeader":n.settings.stageHeader,"--border":n.hoveredSettingId==="border"?"var(--orange)":n.settings.border}))},[r("div",{class:"edm-menu-bar",onMouseenter:e[0]||(e[0]=a=>t.$emit("areahover","menuBar")),onMouseleave:e[1]||(e[1]=a=>t.$emit("areahover","page"))},ja,32),r("div",Ba,[r("div",za,[r("div",Ha,[(f(!0),v(B,null,K(o.tabs,a=>(f(),v("div",{class:z(["edm-tab",{"edm-tab-selected":o.selectedTab===a.id}]),onMouseenter:d=>t.$emit("areahover",o.selectedTab===a.id?"activeTab":"tab"),onMouseleave:e[2]||(e[2]=d=>t.$emit("areahover","page")),onClick:d=>i.selectTab(a.id)},[Va,r("div",{class:"edm-text-placeholder",style:_e(i.cssVariables({"--length":a.textLength}))},null,4)],42,Ua))),256))]),o.selectedTab==="code"?(f(),v("div",Wa,[r("div",{class:"edm-category-menu",onMouseenter:e[5]||(e[5]=a=>t.$emit("areahover","categoryMenu")),onMouseleave:e[6]||(e[6]=a=>t.$emit("areahover","page"))},[(f(!0),v(B,null,K(o.blockCategories,a=>(f(),v("div",{class:z(["edm-category",{"edm-category-selected":t.$index===0}])},[r("div",{class:"edm-category-bubble",style:_e({backgroundColor:a.primary,borderColor:a.tertiary})},null,4),r("div",Ga,[(f(!0),v(B,null,K(a.textLength,d=>(f(),v("div",{class:"edm-text-placeholder edm-text-placeholder-small",style:_e(i.cssVariables({"--length":d}))},null,4))),256))])],2))),256)),Ya,r("div",{class:"edm-add-extension",onMouseenter:e[3]||(e[3]=a=>t.$emit("areahover","primary")),onMouseleave:e[4]||(e[4]=a=>t.$emit("areahover","categoryMenu"))},Ka,32)],32),r("div",{class:"edm-palette",onMouseenter:e[7]||(e[7]=a=>t.$emit("areahover","palette")),onMouseleave:e[8]||(e[8]=a=>t.$emit("areahover","page"))},null,32),r("div",{class:"edm-workspace-hover-target",onMouseenter:e[9]||(e[9]=a=>t.$emit("areahover","workspace")),onMouseleave:e[10]||(e[10]=a=>t.$emit("areahover","page"))},null,32)])):(f(),v("div",{key:1,class:"edm-tab-content edm-asset-tab",onMouseenter:e[33]||(e[33]=a=>t.$emit("areahover","accent")),onMouseleave:e[34]||(e[34]=a=>t.$emit("areahover","page"))},[r("div",{class:z(["edm-asset-list",{"edm-sound-list":o.selectedTab==="sounds"}]),onMouseenter:e[19]||(e[19]=a=>t.$emit("areahover","selector2")),onMouseleave:e[20]||(e[20]=a=>t.$emit("areahover","accent"))},[r("div",{class:"edm-asset edm-asset-selected",onMouseenter:e[15]||(e[15]=a=>t.$emit("areahover","selectorSelection")),onMouseleave:e[16]||(e[16]=a=>t.$emit("areahover","selector2"))},[qa,r("div",{class:"edm-asset-name",onMouseenter:e[11]||(e[11]=a=>t.$emit("areahover","primary")),onMouseleave:e[12]||(e[12]=a=>t.$emit("areahover","selectorSelection"))},Za,32),r("div",{class:"edm-asset-delete",onMouseenter:e[13]||(e[13]=a=>t.$emit("areahover","primary")),onMouseleave:e[14]||(e[14]=a=>t.$emit("areahover","selectorSelection"))},er,32)],32),tr,r("div",{class:"edm-asset-new",onMouseenter:e[17]||(e[17]=a=>t.$emit("areahover","primary")),onMouseleave:e[18]||(e[18]=a=>t.$emit("areahover","selector2"))},sr,32)],34),o.selectedTab==="costumes"?(f(),v("div",or,[r("div",ir,[r("div",null,[ar,r("div",{class:"edm-input",onMouseenter:e[21]||(e[21]=a=>t.$emit("areahover","input")),onMouseleave:e[22]||(e[22]=a=>t.$emit("areahover","accent"))},lr,32)]),dr]),r("div",cr,[ur,r("div",null,[hr,gr,mr,r("div",{class:"edm-input edm-input-number",onMouseenter:e[23]||(e[23]=a=>t.$emit("areahover","input")),onMouseleave:e[24]||(e[24]=a=>t.$emit("areahover","accent"))},pr,32)]),vr]),r("div",br,[r("div",yr,[r("div",{class:"edm-paint-tool edm-paint-tool-selected",onMouseenter:e[25]||(e[25]=a=>t.$emit("areahover","primary")),onMouseleave:e[26]||(e[26]=a=>t.$emit("areahover","accent"))},_r,32),(f(),v(B,null,K([0,1,2,3],a=>r("div",Sr,Er)),64))]),r("div",Mr,[(f(),v(B,null,K([0,1,2,3],a=>r("div",kr,Cr)),64))]),r("div",Tr,[$r,r("div",Or,[r("div",{class:"edm-button",onMouseenter:e[27]||(e[27]=a=>t.$emit("areahover","primary")),onMouseleave:e[28]||(e[28]=a=>t.$emit("areahover","accent"))},Nr,32),Fr])])])])):D("",!0),o.selectedTab==="sounds"?(f(),v("div",Rr,[r("div",jr,[r("div",null,[Br,r("div",{class:"edm-input",onMouseenter:e[29]||(e[29]=a=>t.$emit("areahover","input")),onMouseleave:e[30]||(e[30]=a=>t.$emit("areahover","accent"))},Hr,32)]),Ur]),Vr,r("div",Wr,[r("div",null,[r("div",{class:"edm-play-button",onMouseenter:e[31]||(e[31]=a=>t.$emit("areahover","primary")),onMouseleave:e[32]||(e[32]=a=>t.$emit("areahover","accent"))},Yr,32)]),Xr,r("div",null,[(f(!0),v(B,null,K(o.soundEffects,a=>(f(),v("div",Kr,[qr,r("div",null,[(f(!0),v(B,null,K(a.textLength,d=>(f(),v("div",{class:"edm-text-placeholder edm-text-placeholder-small",style:_e(i.cssVariables({"--length":d}))},null,4))),256))])]))),256))])])])):D("",!0)],32)),r("div",{class:"edm-backpack",onMouseenter:e[35]||(e[35]=a=>t.$emit("areahover","accent")),onMouseleave:e[36]||(e[36]=a=>t.$emit("areahover","page"))},Zr,32)]),r("div",Qr,[r("div",el,[tl,nl,sl,r("div",{class:"edm-outlined-button-group",onMouseenter:e[37]||(e[37]=a=>t.$emit("areahover","accent")),onMouseleave:e[38]||(e[38]=a=>t.$emit("areahover","page"))},al,32),r("div",{class:"edm-outlined-button-group",onMouseenter:e[40]||(e[40]=a=>t.$emit("areahover","accent")),onMouseleave:e[41]||(e[41]=a=>t.$emit("areahover","page"))},[r("div",{class:"edm-outlined-button edm-fullscreen-toggle",onClick:e[39]||(e[39]=a=>i.toggleFullScreenView())},ll)],32)]),r("div",{class:"edm-stage",onMouseenter:e[42]||(e[42]=a=>t.$emit("areahover",null)),onMouseleave:e[43]||(e[43]=a=>t.$emit("areahover","page"))},null,32),r("div",dl,[r("div",cl,[r("div",{class:"edm-sprite-info",onMouseenter:e[44]||(e[44]=a=>t.$emit("areahover","accent")),onMouseleave:e[45]||(e[45]=a=>t.$emit("areahover","page"))},hl,32),r("div",{class:"edm-sprite-list-container",onMouseenter:e[54]||(e[54]=a=>t.$emit("areahover","selector")),onMouseleave:e[55]||(e[55]=a=>t.$emit("areahover","page"))},[r("div",gl,[r("div",{class:"edm-asset edm-asset-selected",onMouseenter:e[50]||(e[50]=a=>t.$emit("areahover","selectorSelection")),onMouseleave:e[51]||(e[51]=a=>t.$emit("areahover","selector"))},[ml,r("div",{class:"edm-asset-name",onMouseenter:e[46]||(e[46]=a=>t.$emit("areahover","primary")),onMouseleave:e[47]||(e[47]=a=>t.$emit("areahover","selectorSelection"))},pl,32),r("div",{class:"edm-asset-delete",onMouseenter:e[48]||(e[48]=a=>t.$emit("areahover","primary")),onMouseleave:e[49]||(e[49]=a=>t.$emit("areahover","selectorSelection"))},bl,32)],32),yl]),r("div",{class:"edm-asset-new",onMouseenter:e[52]||(e[52]=a=>t.$emit("areahover","primary")),onMouseleave:e[53]||(e[53]=a=>t.$emit("areahover","selector"))},_l,32)],32)]),r("div",{class:"edm-stage-selector",onMouseenter:e[58]||(e[58]=a=>t.$emit("areahover","accent")),onMouseleave:e[59]||(e[59]=a=>t.$emit("areahover","page"))},[Sl,r("div",{class:"edm-asset-new",onMouseenter:e[56]||(e[56]=a=>t.$emit("areahover","primary")),onMouseleave:e[57]||(e[57]=a=>t.$emit("areahover","accent"))},El,32)],32)])])]),o.fullScreenView?(f(),v("div",{key:0,class:"edm-fullscreen-view",onMouseenter:e[67]||(e[67]=a=>t.$emit("areahover","fullscreen")),onMouseleave:e[68]||(e[68]=a=>t.$emit("areahover","page"))},[r("div",{class:"edm-fullscreen-controls",onMouseenter:e[63]||(e[63]=a=>t.$emit("areahover","stageHeader")),onMouseleave:e[64]||(e[64]=a=>t.$emit("areahover","fullscreen"))},[r("div",Ml,[kl,r("div",{class:"edm-outlined-button-group",onMouseenter:e[61]||(e[61]=a=>t.$emit("areahover","accent")),onMouseleave:e[62]||(e[62]=a=>t.$emit("areahover","page"))},[r("div",{class:"edm-outlined-button edm-fullscreen-toggle",onClick:e[60]||(e[60]=a=>i.toggleFullScreenView())},Cl)],32)])],32),r("div",{class:"edm-fullscreen-stage",onMouseenter:e[65]||(e[65]=a=>t.$emit("areahover",null)),onMouseleave:e[66]||(e[66]=a=>t.$emit("areahover","fullscreen"))},null,32)],32)):D("",!0)],44,Fa)}const $l=we(Na,[["render",Tl]]),Ol={props:["options","settingData","settings"],methods:{settingName(t){return this.settingData.find(e=>e.id===t).name}}},Dl={class:"preset-palette"},Al=["title"];function Ll(t,e,n,s,o,i){return f(),v("span",Dl,[(f(!0),v(B,null,K(n.options.colors,a=>(f(),v("span",{style:_e({backgroundColor:n.settings[a]}),title:i.settingName(a)+": "+n.settings[a]},null,12,Al))),256))])}const Pl=we(Ol,[["render",Ll]]),Mt=window.parent!==window,Nl={components:{AddonTag:Ca,AddonSetting:xa,EditorDarkMode:$l,PreviewPalette:Pl},props:["addon","groupId","groupExpanded","visible"],data(){return{isIframe:Mt,expanded:this.getDefaultExpanded(),everExpanded:this.getDefaultExpanded(),hoveredSettingId:null,highlightedSettingId:null}},computed:{shouldShow(){return this.visible&&(this.$root.searchInput===""?this.groupExpanded:!0)},addonIconSrc(){return`../../../images/icons/${{editor:"puzzle",community:"web",theme:"brush",easterEgg:"egg-easter",popup:"popup"}[this.addon._icon]}.svg`},addonSettings(){return this.$root.addonSettings[this.addon._addonId]},devMode(){return this.$root.devMode},showUpdateNotice(){if(!this.addon.latestUpdate||!this.addon.latestUpdate.temporaryNotice)return!1;const[t,e,n]=this.$root.version.split("."),[s,o,i]=this.addon.latestUpdate.version.split(".");return t===s&&e===o}},methods:{getDefaultExpanded(){return Mt?!1:this.groupId==="enabled"},loadPreset(t){if(window.confirm(chrome.i18n.getMessage("confirmPreset"))){for(const e of Object.keys(t.values))this.addonSettings[e]=t.values[e];this.$root.updateSettings(this.addon),console.log(`Loaded preset ${t.id} for ${this.addon._addonId}`)}},loadDefaults(){if(window.confirm(chrome.i18n.getMessage("confirmReset"))){for(const t of this.addon.settings)this.addonSettings[t.id]=JSON.parse(JSON.stringify(t.default));this.$root.updateSettings(this.addon),console.log(`Loaded default values for ${this.addon._addonId}`)}},toggleAddonRequest(t){const e=()=>{t.preventDefault();const s=!this.addon._enabled;this.addon._wasEverEnabled=this.addon._enabled||s,this.addon._enabled=s,this.expanded=Mt&&!this.expanded&&(this.addon.info||[]).every(o=>o.type!=="warning")||t.shiftKey?!1:s,chrome.runtime.sendMessage({changeEnabledState:{addonId:this.addon._addonId,newState:s}}),Ne.$emit(`toggle-addon-request-${this.addon.id}`,s)},n=(this.addon.permissions||[]).filter(s=>this.$root.browserLevelPermissions.includes(s));!this.addon._enabled&&this.addon.tags.includes("danger")&&!confirm(chrome.i18n.getMessage("dangerWarning",[this.addon.name]))||(!this.addon._enabled&&n.length&&n.every(o=>this.$root.grantedOptionalPermissions.includes(o))===!1?Mt?(this.$root.addonToEnable=this.addon,document.querySelector(".popup").style.animation="dropDown 0.35s 1",this.$root.showPopupModal=!0):chrome.permissions.request({permissions:n},o=>{o&&(console.log("Permissions granted!"),e())}):e())},highlightSetting(t){this.highlightedSettingId=t},msg(...t){return this.$root.msg(...t)}},watch:{groupId(t){this.expanded=this.getDefaultExpanded()},searchInput(t){t===""?this.expanded=this.getDefaultExpanded():this.expanded=!1},expanded(t){t===!0&&(this.everExpanded=!0)}},mounted(){const t=()=>{location.hash.replace(/^#addon-/,"")===this.addon._addonId&&(this.expanded=!0)};window.addEventListener("hashchange",t,{capture:!1}),setTimeout(t,0)}},Fl=["id"],Rl={class:"addon-topbar"},jl={class:"btn-dropdown"},Bl={class:"addon-name tooltip"},zl=["src"],Hl={key:0,class:"tooltiptext"},Ul={class:"addon-check"},Vl=r("img",{src:Os,class:"icon-type"},null,-1),Wl=[Vl],Gl=["state"],Yl={key:0,class:"addon-settings"},Xl={class:"addon-description-full"},Kl={key:0,class:"addon-message addon-update"},ql={id:"info"},Jl=["src"],Zl={key:1,class:"addon-credits"},Ql={key:0},ed=["href"],td={key:1},nd={key:2},sd={key:2,class:"addon-license"},od=["href"],id={class:"setting-label"},ad={class:"setting-label"},rd={class:"addon-setting"},ld=["disabled","onClick","title"],dd={class:"preset-preview"};function cd(t,e,n,s,o,i){const a=ve("addon-tag"),d=ve("addon-setting");return j((f(),v("div",{class:"addon-body",id:"addon-"+n.addon._addonId},[r("div",Rl,[r("div",{class:"clickable-area",onClick:e[0]||(e[0]=l=>o.expanded=!o.expanded)},[r("div",jl,[r("img",{src:Ut,alt:"v",class:z({reverted:o.expanded})},null,2)]),r("div",Bl,[r("img",{src:i.addonIconSrc,class:"icon-type"},null,8,zl),r("span",null,x(n.addon.name),1),i.devMode?(f(),v("span",Hl,x(n.addon._addonId),1)):D("",!0)]),(f(!0),v(B,null,K(n.addon.tags,l=>(f(),be(a,{tag:l},null,8,["tag"]))),256))]),j(r("div",{class:"addon-description",dir:"auto"},x(n.addon.description),513),[[ne,!o.expanded]]),r("div",Ul,[n.addon.settings?j((f(),v("div",{key:0,class:"addon-buttons",title:"{{ msg('resetToDefault') }}",onClick:e[1]||(e[1]=(...l)=>i.loadDefaults&&i.loadDefaults(...l))},Wl,512)),[[ne,o.expanded&&n.addon._enabled]]):D("",!0),r("div",{class:"switch",state:n.addon._enabled?"on":"off",onClick:e[2]||(e[2]=(...l)=>i.toggleAddonRequest&&i.toggleAddonRequest(...l))},null,8,Gl)])]),o.everExpanded?j((f(),v("div",Yl,[r("div",Xl,x(n.addon.description),1),i.showUpdateNotice?(f(),v("div",Kl,[Pt(a,{tag:"new"}),re(" "+x(n.addon.latestUpdate.temporaryNotice),1)])):D("",!0),(f(!0),v(B,null,K(n.addon.info,l=>(f(),v("div",ql,[r("div",{class:z(["addon-message","addon-"+(l.type||"info")])},[r("img",{src:"../../../images/icons/"+{warning:"warning.svg",notice:"notice.svg",info:"help.svg"}[l.type||"info"]},null,8,Jl),re(x(l.text),1)],2)]))),256)),n.addon.credits?(f(),v("div",Zl,[r("span",null,x(i.msg("creditTo")),1),(f(!0),v(B,null,K(n.addon.credits,l=>(f(),v("span",null,[l.link?(f(),v("span",Ql,[r("a",{href:l.link,rel:"noreferrer noopener",target:"_blank"},x(l.name),9,ed)])):(f(),v("span",td,x(l.name),1)),l.note?(f(),v("span",nd," ("+x(l.note)+")",1)):D("",!0)]))),256))])):D("",!0),n.addon.libraries&&n.addon.libraries.length?(f(),v("div",sd,[r("a",{target:"_blank",href:`./licenses.html?libraries=${n.addon.libraries.join(",")}`},x(i.msg("viewLicenses")),9,od)])):D("",!0),n.addon.addonPreview&&!o.isIframe?(f(),v("div",{key:3,class:z(["preview-column",[n.addon._enabled?"":"disabled"]])},[r("div",id,x(i.msg("preview")),1),(f(),be(Tn(n.addon.addonPreview.type),{options:n.addon.addonPreview,settings:i.addonSettings,"hovered-setting-id":o.hoveredSettingId,onAreahover:i.highlightSetting},null,40,["options","settings","hovered-setting-id","onAreahover"]))],2)):D("",!0),r("div",{class:z(["settings-column",[n.addon._enabled?"":"disabled"]])},[(f(!0),v(B,null,K(n.addon.settings,l=>(f(),be(d,{class:z({"setting-highlighted":o.highlightedSettingId===l.id}),addon:n.addon,setting:l,"addon-settings":i.addonSettings,onMouseenter:c=>o.hoveredSettingId=l.id,onMouseleave:e[3]||(e[3]=c=>o.hoveredSettingId=null)},null,8,["class","addon","setting","addon-settings","onMouseenter"]))),256))],2),n.addon.presets?(f(),v("div",{key:4,class:z(["presets-column",[n.addon._enabled?"":"disabled"]])},[r("div",ad,x(i.msg("presets")),1),(f(!0),v(B,null,K(n.addon.presets,l=>(f(),v("div",rd,[r("button",{type:"preset-button",class:"large-button",disabled:!n.addon._enabled,onClick:c=>i.loadPreset(l),title:l.description},[r("span",dd,[n.addon.presetPreview?(f(),be(Tn("preview-"+n.addon.presetPreview.type),{key:0,options:n.addon.presetPreview,"setting-data":n.addon.settings,settings:l.values},null,8,["options","setting-data","settings"])):D("",!0)]),r("span",null,x(l.name),1)],8,ld)]))),256))],2)):D("",!0)],512)),[[ne,o.expanded]]):D("",!0)],8,Fl)),[[ne,i.shouldShow]])}const ud=we(Nl,[["render",cd]]),hd={props:["group","shownCount","marginAbove"],data(){return{}},computed:{shouldShow(){return this.$root.searchInput!==""?!1:this.shownCount>0},manifestsById(){return this.$root.manifestsById}},methods:{toggle(){this.group.expanded=!this.group.expanded}}};function gd(t,e,n,s,o,i){return j((f(),v("div",{class:z(["addon-group",{"margin-above":n.marginAbove}]),onClick:e[0]||(e[0]=(...a)=>i.toggle&&i.toggle(...a))},[r("img",{src:Ut,alt:"v",class:z({reverted:n.group.expanded})},null,2),re(" "+x(n.group.name)+" ("+x(n.shownCount)+") ",1)],2)),[[ne,i.shouldShow]])}const md=we(hd,[["render",gd]]),fd={props:["category"],data(){return{lastClick:0}},computed:{selectedCategory(){return this.$root.selectedCategory},shouldShow(){const t=this.$root.categories.filter(e=>e.parent===this.category.parent).map(e=>e.id);return!this.category.parent||[this.category.parent,...t].includes(this.selectedCategory)}},methods:{onClick(t){t.stopPropagation(),this.selectedCategory===this.category.id&&!this.category.parent&&Date.now()-this.lastClick>350?this.$root.selectedCategory="all":this.$root.selectedCategory=this.category.id,this.lastClick=Date.now()}}},pd=["src"];function vd(t,e,n,s,o,i){return f(),be(Hs,{name:"expand",mode:"in-out"},{default:ns(()=>[j(r("div",{class:z(["category",{sel:n.category.id===i.selectedCategory,hasParent:n.category.parent}]),style:_e({marginBottom:n.category.marginBottom?"12px":0}),onClick:e[0]||(e[0]=a=>i.onClick(a))},[r("img",{src:"../../../images/icons/"+n.category.icon+".svg"},null,8,pd),r("span",null,x(n.category.name),1)],6),[[ne,i.shouldShow]])]),_:1})}const bd=we(fd,[["render",vd]]);let As=[];const kn=()=>chrome.permissions.getAll(({permissions:t})=>{As=t.filter(e=>Ht.includes(e))});kn();var Qn;(Qn=chrome.permissions.onAdded)==null||Qn.addListener(kn);var es;(es=chrome.permissions.onRemoved)==null||es.addListener(kn);let rn,Zn,Ve=!1;window.parent!==window&&(document.body.classList.add("iframe"),Ve=!0);const yd={components:{Modal:ko,AddonBody:ud,AddonGroupHeader:md,CategorySelector:bd},data(){return{bus:Ne,smallMode:!1,devMode:!1,forceEnglishSetting:null,forceEnglishSettingInitial:null,switchPath:"../../images/icons/switch.svg",moreSettingsOpen:!1,categoryOpen:!0,loaded:!1,searchLoaded:!1,manifests:[],manifestsById:{},selectedCategory:"all",searchInput:"",searchInputReal:"",addonSettings:{},addonToEnable:null,showPopupModal:!1,isIframe:Ve,addonGroups:Nn.filter(t=>Ve?t.iframeShow:t.fullscreenShow),categories:lo,searchMsg:this.msg("search"),browserLevelPermissions:Ht,grantedOptionalPermissions:As,addonListObjs:[],sidebarUrls:(()=>{const t=chrome.i18n.getUILanguage(),e=t.startsWith("en")?"":`${t.split("-")[0]}/`,n=chrome.runtime.getManifest().version,s=chrome.runtime.getManifest().version_name,o=`utm_source=extension&utm_medium=settingspage&utm_campaign=v${n}`;return{contributors:`https://scratchaddons.com/${e}credits?${o}`,feedback:`https://scratchaddons.com/${e}feedback/?ext_version=${s}&${o}`,changelog:`https://scratchaddons.com/${e}changelog?${o}`}})()}},created(){chrome.runtime.sendMessage("getSettingsInfo",async({manifests:t,addonsEnabled:e,addonSettings:n})=>{var g,m;this.addonSettings=n;const s=[];let o;Ve&&(o=await po());const i=u=>JSON.parse(JSON.stringify(u));for(const{manifest:u,addonId:p}of t){u._categories=[],u._categories[0]=u.tags.includes("popup")?"popup":u.tags.includes("easterEgg")?"easterEgg":u.tags.includes("theme")?"theme":u.tags.includes("community")?"community":"editor";const b=_=>{let I=0;for(const T of _){const A=typeof T=="object"?T.tag:T,H=typeof T=="object"?T.category:A;u.tags.includes(A)&&(u._categories.push(H),I++)}return I};if(u._categories[0]==="theme"?b([{tag:"editor",category:"themesForEditor"}])||b([{tag:"community",category:"themesForWebsite"}]):u._categories[0]==="editor"?b(["codeEditor","costumeEditor","projectPlayer"])===0&&u._categories.push("editorOthers"):u._categories[0]==="community"&&b(["profiles","projectPage","forums"])===0&&u._categories.push("communityOthers"),p==="cat-blocks"&&u._categories.push("easterEgg"),u._icon=u._categories[0],u._enabled=e[p],u._wasEverEnabled=u._enabled,u._addonId=p,u._groups=[],u.versionAdded){const[_,I,T]=this.version.split("."),[A,H,Z]=u.versionAdded.split(".");_===A&&I===H&&(u.tags.push("new"),u._groups.push(u.tags.includes("recommended")||u.tags.includes("featured")?"featuredNew":"new"))}if(u.latestUpdate){const[_,I,T]=this.version.split("."),[A,H,Z]=u.latestUpdate.version.split(".");_===A&&I===H&&(u.tags.push((g=u.latestUpdate.newSettings)!=null&&g.length?"updatedWithSettings":"updated"),u._groups.push(u.latestUpdate.isMajor?"featuredNew":"new"))}const E=us.map(_=>_.matchName);u.tags.sort((_,I)=>E.indexOf(_)-E.indexOf(I)),o!=null&&o.addonsCurrentlyOnTab.includes(p)?u._groups.push("runningOnTab"):o!=null&&o.addonsPreviouslyOnTab.includes(p)&&u._groups.push("recentlyUsed"),u._enabled?u._groups.push("enabled"):u.tags.includes("recommended")?u._groups.push("recommended"):u.tags.includes("featured")?u._groups.push("featured"):u.tags.includes("beta")||u.tags.includes("danger")?u._groups.push("beta"):u.tags.includes("forums")?u._groups.push("forums"):u._groups.push("others");for(const _ of u._groups)(m=this.addonGroups.find(I=>I.id===_))==null||m.addonIds.push(u._addonId);s.push(i(u))}for(const{manifest:u}of t)this.manifestsById[u._addonId]=u;this.manifests=t.map(({manifest:u})=>u),rn=new nt(s,uo);const a=(u,p,b)=>{const E=Array.isArray(u)?u:[u],_=E.some(T=>p.tags.includes(T)),I=E.some(T=>b.tags.includes(T));return _^I?I-_:_&&I?p.name.localeCompare(b.name):null},d=[["danger","beta"],"editor","community","popup"];if(this.addonGroups.forEach(u=>{u.addonIds=u.addonIds.map(p=>this.manifestsById[p]).sort((p,b)=>{for(const E of u.customOrder||d){const _=a(E,p,b);if(_!==null)return _}return 0}).map(p=>p._addonId)}),Ve){const u=[];for(const b of this.addonGroups)b.addonIds.forEach(E=>u.push(E));const p=this.addonGroups.find(b=>b.id==="_iframeSearch");p.addonIds=Object.keys(this.manifestsById).filter(b=>u.indexOf(b)===-1)}let l=0;for(const u of this.addonGroups)u.addonIds.forEach((p,b)=>{const E=this.addonListObjs.find(T=>T.manifest._addonId==="example"),_=E||{};_.duplicate=!!this.addonListObjs.find(T=>T.manifest._addonId===p),_.manifest=this.manifestsById[p],_.group=u,_.matchesSearch=!1;const I=_.manifest._categories[0]==="easterEgg"&&_.manifest._enabled===!1;_.matchesCategory=!I,_.naturalIndex=l,_.headerAbove=b===0,_.footerBelow=b===u.addonIds.length-1,E||this.addonListObjs.push(_),l++});this.addonListObjs=this.addonListObjs.filter(u=>u.manifest._addonId!=="example"),this.loaded=!0,setTimeout(()=>{const u=window.location.hash;if(u.startsWith("#addon-")){const p=u.substring(7),b=this.addonGroups.find(_=>_.addonIds.includes(p));if(!b)return;b.expanded=!0;const E=this.manifestsById[p];this.selectedCategory=E!=null&&E.tags.includes("easterEgg")?"easterEgg":"all",setTimeout(()=>{const _=document.getElementById("addon-"+p);_&&(_.scrollIntoView(),_.classList.add("addon-blink"),setTimeout(()=>_.classList.remove("addon-blink"),2001))},0)}},0);let c="";t.forEach(({addonId:u})=>c+=e[u]===!0?"1":"0");const h=BigInt(`0b${c}`).toString(36);this.sidebarUrls.feedback+=`#_${h}`})},computed:{themePath(){return this.theme?"../../images/icons/moon.svg":"../../images/icons/theme.svg"},addonList(){if(!this.searchInput)return this.addonListObjs.forEach(s=>{s.matchesSearch=s.group.id!=="_iframeSearch"}),this.addonListObjs.sort((s,o)=>s.naturalIndex-o.naturalIndex);if(!rn)return[];const t=Object.values(this.addonListObjs.reduce((s,o)=>((!s[o.manifest._addonId]||s[o.manifest._addonId]&&o.group.id!=="featuredNew"&&o.group.id!=="new")&&(s[o.manifest._addonId]=o),s),Object.create(null))),n=rn.search(this.searchInput).sort((s,o)=>s.score<.1^o.score<.1?s.score<.1?-1:1:o.item._enabled-s.item._enabled).map(s=>t.find(o=>o.manifest._addonId===s.item._addonId));for(const s of t)s.matchesSearch=n.includes(s);return t.sort((s,o)=>n.indexOf(s)-n.indexOf(o))},hasNoResults(){return!this.addonList.some(t=>t.matchesSearch&&t.matchesCategory)},version(){return chrome.runtime.getManifest().version},versionName(){return chrome.runtime.getManifest().version_name},addonAmt(){return`${Math.floor(this.manifests.filter(t=>!t.tags.includes("easterEgg")).length/5)*5}+`},selectedCategoryName(){var t;return(t=this.categories.find(e=>e.id===this.selectedCategory))==null?void 0:t.name}},setup(){const t=et(null);return(async()=>{const{theme:e,setGlobalTheme:n}=await Us();t.value=e,Zn=n})(),{theme:t}},methods:{openMoreSettings:function(){this.closePickers(),this.moreSettingsOpen=!0,this.smallMode&&this.sidebarToggle()},sidebarToggle:function(){this.categoryOpen=!this.categoryOpen,this.categoryOpen?this.switchPath="../../images/icons/close.svg":this.switchPath="../../images/icons/switch.svg"},msg(t,...e){return chrome.i18n.getMessage(t,...e)},direction(){return wn(chrome.i18n.getUILanguage())},clearSearch(){this.searchInputReal=""},setTheme(t){Zn(t),this.theme=t},stopPropagation(t){t.stopPropagation()},updateSettings(t,{wait:e=0,settingId:n=null}={}){const s=n&&this.addonSettings[t._addonId][n];setTimeout(()=>{(!n||this.addonSettings[t._addonId][n]===s)&&(chrome.runtime.sendMessage({changeAddonSettings:{addonId:t._addonId,newSettings:this.addonSettings[t._addonId]}}),console.log("Updated",this.addonSettings[t._addonId]))},e)},closePickers(t,e,{callCloseDropdowns:n=!0}={}){Ne.$emit("close-pickers",e),n&&this.closeResetDropdowns()},closeResetDropdowns(t,e){Ne.$emit("close-reset-dropdowns",e)},exportSettings(){Rn().then(t=>{const e=new Blob([t],{type:"application/json"});Xs("scratch-addons-settings.json",e)})},viewSettings(){const t=window.open("about:blank");Rn().then(e=>{const n=new Blob([e],{type:"text/plain"});t.location.replace(URL.createObjectURL(n))})},importSettings(){const t=Object.assign(document.createElement("input"),{hidden:!0,type:"file",accept:"application/json"});t.addEventListener("change",async e=>{const n=t.files[0];if(!n){t.remove(),alert(chrome.i18n.getMessage("fileNotSelected"));return}const s=await n.text();t.remove();const o=document.getElementById("confirmImport");try{await wo(s,this.manifests,o)}catch(i){console.warn("Error when importing settings:",i),o.classList.add("hidden-button"),alert(chrome.i18n.getMessage("importFailed"));return}alert(chrome.i18n.getMessage("importSuccess")),chrome.runtime.reload()},{once:!0}),document.body.appendChild(t),t.click()},applyLanguageSettings(){alert(chrome.i18n.getMessage("importSuccess")),chrome.runtime.reload()},openFullSettings(){window.open(`${chrome.runtime.getURL("webpages/dist/index.html")}#addon-${this.addonToEnable&&this.addonToEnable._addonId}`),setTimeout(()=>window.parent.close(),100)},hidePopup(){document.querySelector(".popup").style.animation=window.matchMedia("(prefers-reduced-motion: reduce)").matches?"closePopup 0.35s 1":"closePopup 0.6s 1",document.querySelector(".popup").addEventListener("animationend",()=>{this.showPopupModal=!1},{once:!0})},groupShownCount(t){return t.id==="_iframeSearch"?-1:this.addonListObjs.filter(e=>e.group===t&&e.matchesSearch&&e.matchesCategory).length},groupMarginAbove(t){const e=this.addonGroups.find(n=>this.groupShownCount(n)>0);return t!==e},closesidebar(t){(t==null?void 0:t.target.classList[0])!=="toggle"&&this.categoryOpen&&this.smallMode&&this.sidebarToggle()},resizeEvent(){window.innerWidth<1100?(this.smallMode=!0,this.categoryOpen=!1,this.switchPath="../../images/icons/switch.svg"):this.smallMode!==!1&&(this.smallMode=!1,this.categoryOpen=!0,this.switchPath="../../images/icons/close.svg")}},watch:{searchInputReal(t){if(t==="")return this.searchInput=t;setTimeout(()=>{this.searchInputReal===t&&(this.searchInput=t)},150)},selectedCategory(t){this.addonListObjs.forEach(e=>{const n=e.manifest._categories[0]==="easterEgg"&&t!=="easterEgg"&&e.manifest._wasEverEnabled===!1;e.matchesCategory=!n&&(t==="all"||e.manifest._categories.includes(t))}),t==="forums"&&(this.addonGroups.find(e=>e.id==="forums").expanded=!0)},forceEnglishSetting(t,e){e!==null&&chrome.storage.local.set({forceEnglish:this.forceEnglishSetting})}},mounted(){window.vue=this,(Ve||typeof browser<"u")&&setTimeout(()=>{var o;return(o=document.getElementById("searchBox"))==null?void 0:o.focus()},0);const t={group:Nn[0],manifest:JSON.parse(JSON.stringify(co)),matchesSearch:!0,matchesCategory:!0,naturalIndex:-1,headerAbove:!1,footerBelow:!1,duplicate:!1};setTimeout(()=>{this.loaded||(this.addonListObjs=Array(25).fill("").map(()=>JSON.parse(JSON.stringify(t))))},0),chrome.storage.local.get("forceEnglish",({forceEnglish:o})=>{this.forceEnglishSettingInitial=o,this.forceEnglishSetting=o}),window.addEventListener("hashchange",o=>{const i=location.hash.replace(/^#addon-/,""),a=this.addonGroups.find(l=>l.addonIds.includes(i));if(!a)return;const d=this.manifestsById[i];a.expanded=!0,this.selectedCategory=d!=null&&d.tags.includes("easterEgg")?"easterEgg":"all",this.clearSearch(),setTimeout(()=>{var l;return(l=document.getElementById("addon-"+i))==null?void 0:l.scrollIntoView()},0)},{capture:!1}),window.addEventListener("resize",this.resizeEvent),this.resizeEvent(),document.title=chrome.i18n.getMessage("settingsTitle"),chrome.management.getSelf(o=>{o.installType==="development"&&(vue.devMode=!0)});let e=0;const n=["arrowup","arrowup","arrowdown","arrowdown","arrowleft","arrowright","arrowleft","arrowright","b","a"];let s=this;document.addEventListener("keydown",o=>{e=o.key.toLowerCase()===n[e]?e+1:0,e===n.length&&(s.selectedCategory="easterEgg",setTimeout(()=>vue.searchInputReal="",0))})}},wd="data:image/svg+xml,%3csvg%20width='128'%20height='128'%20style='-ms-transform:rotate(360deg);-webkit-transform:rotate(360deg)'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M64.992%2066.34a28.234%2028.234%200%200%200%209.756-21.347%2028.693%2028.693%200%200%200-57.386%200%2028.234%2028.234%200%200%200%209.756%2021.347A45.908%2045.908%200%200%200%20.147%20108.117a5.739%205.739%200%200%200%2011.477%200%2034.431%2034.431%200%200%201%2068.862%200%205.739%205.739%200%200%200%2011.478%200A45.908%2045.908%200%200%200%2064.992%2066.34zm-18.937-4.132a17.216%2017.216%200%201%201%2017.216-17.215%2017.216%2017.216%200%200%201-17.216%2017.215zm55.894%201.837A28.693%2028.693%200%200%200%2080.486%2016.3a5.739%205.739%200%200%200%200%2011.477%2017.216%2017.216%200%200%201%2017.216%2017.216%2017.216%2017.216%200%200%201-8.608%2014.863%205.739%205.739%200%200%200-2.869%204.82%205.739%205.739%200%200%200%202.582%204.935l2.238%201.492.746.402a40.17%2040.17%200%200%201%2022.955%2036.612%205.739%205.739%200%200%200%2011.477%200%2051.647%2051.647%200%200%200-24.274-44.072z'%20fill='%23ff7b26'%20style='stroke-width:5.73856'/%3e%3c/svg%3e",Ls="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='24'%20height='24'%20style='-ms-transform:rotate(360deg);-webkit-transform:rotate(360deg);transform:rotate(360deg)'%3e%3cpath%20d='M3%205h12M9%203v2m1.048%209.5A18.022%2018.022%200%200%201%206.412%209m6.088%209h7M11%2021l5-10%205%2010M12.751%205C11.783%2010.77%208.07%2015.61%203%2018.129'%20stroke='%23626262'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'%20fill='none'/%3e%3cpath%20fill='rgba(0,%200,%200,%200)'%20d='M0%200h24v24H0z'/%3e%3c/svg%3e",_d="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='512'%20height='512'%20viewBox='0%200%2024%2024'%20style='-ms-transform:rotate(360deg);-webkit-transform:rotate(360deg);transform:rotate(360deg)'%3e%3cpath%20d='M13%2011H7a1%201%200%200%200%200%202h6a1%201%200%200%200%200-2zm4-4H7a1%201%200%200%200%200%202h10a1%201%200%200%200%200-2zm2-5H5a3%203%200%200%200-3%203v10a3%203%200%200%200%203%203h11.59l3.7%203.71A1%201%200%200%200%2021%2022a.84.84%200%200%200%20.38-.08A1%201%200%200%200%2022%2021V5a3%203%200%200%200-3-3zm1%2016.59-2.29-2.3A1%201%200%200%200%2017%2016H5a1%201%200%200%201-1-1V5a1%201%200%200%201%201-1h14a1%201%200%200%201%201%201z'%20fill='%23ff7b26'/%3e%3cpath%20fill='rgba(0,%200,%200,%200)'%20d='M0%200h24v24H0z'/%3e%3c/svg%3e",Sd="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20aria-hidden='true'%20width='1em'%20height='1em'%20style='-ms-transform:rotate(360deg);-webkit-transform:rotate(360deg);transform:rotate(360deg)'%20viewBox='0%200%2024%2024'%3e%3cpath%20d='m21.71%2015.58-4.52-4.51a6.85%206.85%200%200%200%20.14-1.4A7.67%207.67%200%200%200%206.42%202.72a1%201%200%200%200-.57.74%201%201%200%200%200%20.28.88l4.35%204.34-1.8%201.8-4.34-4.35a1%201%200%200%200-.88-.27%201%201%200%200%200-.74.56%207.67%207.67%200%200%200%207%2010.91%206.85%206.85%200%200%200%201.4-.14l4.51%204.52a1%201%200%200%200%201.42%200%201%201%200%200%200%200-1.42l-4.9-4.9a1%201%200%200%200-.95-.26%205.88%205.88%200%200%201-1.48.2A5.67%205.67%200%200%201%204%209.67a6%206%200%200%201%20.08-1L8%2012.6a1%201%200%200%200%201.42%200l3.18-3.21a1%201%200%200%200%200-1.39L8.71%204.08a6.12%206.12%200%200%201%201-.08%205.67%205.67%200%200%201%205.66%205.67%205.88%205.88%200%200%201-.2%201.48%201%201%200%200%200%20.26.95l4.9%204.9a1%201%200%200%200%201.42-1.42z'%20fill='%23ff7b26'/%3e%3c/svg%3e",xd="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='24'%20height='24'%20style='-ms-transform:rotate(360deg);-webkit-transform:rotate(360deg);transform:rotate(360deg)'%3e%3cpath%20d='m8.5%2012.8%205.7%205.6c.4.4%201%20.4%201.4%200%20.4-.4.4-1%200-1.4l-4.9-5%204.9-5c.4-.4.4-1%200-1.4-.2-.2-.4-.3-.7-.3-.3%200-.5.1-.7.3l-5.7%205.6c-.4.5-.4%201.1%200%201.6%200-.1%200-.1%200%200z'%20fill='%23fff'/%3e%3cpath%20fill='rgba(0,%200,%200,%200)'%20d='M0%200h24v24H0z'/%3e%3c/svg%3e",Ed="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20aria-hidden='true'%20width='1em'%20height='1em'%20style='-ms-transform:rotate(360deg);-webkit-transform:rotate(360deg);transform:rotate(360deg)'%20viewBox='0%200%2024%2024'%3e%3cpath%20d='M12%208a1%201%200%200%200%200%202%202%202%200%200%201%200%204%201%201%200%200%200%200%202%204%204%200%200%200%200-8zm9.71%203.29L19.36%209V5.64a1%201%200%200%200-1-1h-3.31l-2.34-2.35a1%201%200%200%200-1.42%200L9%204.64H5.64a1%201%200%200%200-1%201V9l-2.35%202.29a1%201%200%200%200%200%201.42l2.35%202.34v3.31a1%201%200%200%200%201%201H9l2.34%202.35a1%201%200%200%200%201.42%200l2.34-2.35h3.31a1%201%200%200%200%201-1v-3.31l2.35-2.34a1%201%200%200%200-.05-1.42zm-4.05%202.64a1%201%200%200%200-.3.71v2.72h-2.72a1%201%200%200%200-.71.3L12%2019.59l-1.93-1.93a1%201%200%200%200-.71-.3H6.64v-2.72a1%201%200%200%200-.3-.71L4.41%2012l1.93-1.93a1%201%200%200%200%20.3-.71V6.64h2.72a1%201%200%200%200%20.71-.3L12%204.41l1.93%201.93a1%201%200%200%200%20.71.3h2.72v2.72a1%201%200%200%200%20.3.71L19.59%2012z'%20fill='%23fff'/%3e%3c/svg%3e",Md="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20aria-hidden='true'%20width='1em'%20height='1em'%20style='-ms-transform:rotate(360deg);-webkit-transform:rotate(360deg);transform:rotate(360deg)'%20viewBox='0%200%2024%2024'%3e%3cpath%20d='M11%2020H6a1%201%200%200%201-1-1V5a1%201%200%200%201%201-1h5v3a3%203%200%200%200%203%203h3v2a1%201%200%200%200%202%200V8.94a1.31%201.31%200%200%200-.06-.27v-.09a1.32%201.32%200%200%200-.19-.29l-6-6a1.32%201.32%200%200%200-.29-.19.32.32%200%200%200-.09%200l-.31-.1H6a3%203%200%200%200-3%203v14a3%203%200%200%200%203%203h5a1%201%200%200%200%200-2zm2-14.59L15.59%208H14a1%201%200%200%201-1-1zM19%2015h-5.59l1.3-1.29a1%201%200%200%200-1.42-1.42l-3%203a1.15%201.15%200%200%200-.21.33%201%201%200%200%200%200%20.76.93.93%200%200%200%20.21.33l3%203a1%201%200%200%200%201.42%200%201%201%200%200%200%200-1.42L13.41%2017H19a1%201%200%200%200%200-2z'%20fill='%23626262'/%3e%3c/svg%3e",kd=yd,Id={class:"navbar"},Cd=["src"],Td=r("img",{src:Vs,class:"logo",alt:"Logo"},null,-1),$d=r("span",{class:"vue3"},"Vue 3",-1),Od=["src"],Dd={class:"main"},Ad=["href"],Ld=r("img",{src:wd},null,-1),Pd=r("img",{src:vn},null,-1),Nd={class:"category category-small",href:"https://scratchaddons.com/translate",target:"_blank"},Fd=r("img",{src:Ls},null,-1),Rd=r("img",{src:vn},null,-1),jd=["href"],Bd=r("img",{src:_d},null,-1),zd=r("img",{src:vn},null,-1),Hd=r("img",{src:Sd},null,-1),Ud={class:"addons-block"},Vd=["placeholder"],Wd={class:"search-button"},Gd={key:0,id:"search-not-found"},Yd={key:1,id:"search-not-found"},Xd={key:0,id:"iframe-fullscreen-suggestion"},Kd={class:"addon-block settings-block"},qd={class:"addon-body"},Jd={class:"addon-topbar"},Zd={class:"addon-name"},Qd=r("img",{src:Ed,class:"icon-type"},null,-1),ec={class:"addon-settings"},tc={class:"addon-description-full"},nc={class:"addon-setting"},sc={class:"filter-selector"},oc={class:"filter-text"},ic={class:"filter-options"},ac={class:"addon-body"},rc={class:"addon-topbar"},lc={class:"addon-name"},dc={class:"addon-settings"},cc={class:"addon-description-full"},uc={class:"addon-description-full"},hc={class:"addon-setting"},gc={class:"filter-selector"},mc={class:"filter-selector"},fc={class:"large-button hidden-button",id:"confirmImport"},pc={class:"filter-selector",style:{"margin-left":"16px"}},vc={class:"addon-body"},bc={class:"addon-topbar"},yc={class:"addon-name"},wc=r("img",{src:Ls,class:"icon-type"},null,-1),_c={class:"addon-settings"},Sc={class:"addon-setting",style:{"margin-top":"0"}},xc=r("span",null,"Show addon names and descriptions in English",-1),Ec={class:"badge red"},Mc={class:"footer"},kc=["href"],Ic={href:"./licenses.html?libraries=icu-message-formatter,vue3,vite,vue-accessible-color-picker,comlink,Sora,fuse,idb,sortable,tiny-emitter",target:"_blank"},Cc={class:"popup"},Tc={class:"label"};function $c(t,e,n,s,o,i){const a=ve("CategorySelector"),d=ve("AddonGroupHeader"),l=ve("AddonBody"),c=ve("modal"),h=Lt("click-outside");return f(),v(B,null,[r("div",Id,[j(r("img",{src:t.switchPath,class:"toggle",onClick:e[0]||(e[0]=g=>t.sidebarToggle()),alt:"Logo"},null,8,Cd),[[ne,t.smallMode]]),Td,r("h1",null,[re(x(t.msg("settings"))+" ",1),$d]),r("div",{onClick:e[1]||(e[1]=g=>t.setTheme(!t.theme)),class:"header-button"},[r("img",{class:"theme-switch",src:t.themePath},null,8,Od)])]),r("div",Dd,[j((f(),v("div",{class:z(["categories-block",{smallMode:t.smallMode===!0}])},[(f(!0),v(B,null,K(t.categories,g=>(f(),be(a,{category:g},null,8,["category"]))),256)),r("a",{class:"category category-small",style:{"margin-top":"auto"},href:t.sidebarUrls.contributors,target:"_blank"},[Ld,r("span",null,[re(x(t.msg("credits"))+" ",1),Pd])],8,Ad),r("a",Nd,[Fd,r("span",null,[re(x(t.msg("translate"))+" ",1),Rd])]),r("a",{class:"category category-small",href:t.sidebarUrls.feedback,target:"_blank"},[Bd,r("span",null,[re(x(t.msg("feedback"))+" ",1),zd])],8,jd),r("div",{class:"category",style:{"margin-top":"12px","margin-bottom":"14px"},onClick:e[2]||(e[2]=g=>t.openMoreSettings())},[Hd,r("span",null,x(t.msg("moreSettings")),1)])],2)),[[h,t.closesidebar],[ne,t.categoryOpen&&!t.isIframe]]),j(r("div",{class:"categories-shrink",onClick:e[3]||(e[3]=g=>t.sidebarToggle())},[r("img",{src:xd,class:z({flipped:t.categoryOpen===(t.direction()==="rtl")})},null,2)],512),[[ne,!t.isIframe&&t.smallMode===!1]]),r("div",Ud,[r("div",{class:z(["search-box",{smallMode:t.smallMode===!0}])},[j(r("input",{type:"text",id:"searchBox",placeholder:t.searchMsg,"onUpdate:modelValue":e[4]||(e[4]=g=>t.searchInputReal=g),autofocus:""},null,8,Vd),[[tt,t.searchInputReal]]),j(r("button",Wd,null,512),[[ne,t.searchInput===""]]),j(r("button",{class:"search-clear-button",onClick:e[5]||(e[5]=g=>t.clearSearch())},null,512),[[ne,t.searchInput!==""]])],2),r("div",{class:z(["addons-container",{placeholder:!t.loaded}])},[t.searchInput&&t.hasNoResults?(f(),v(B,{key:0},[t.selectedCategory==="all"||!t.selectedCategoryName?(f(),v("p",Gd,x(t.msg("searchNotFound")),1)):(f(),v("p",Yd,x(t.msg("searchNotFoundInCategory",t.selectedCategoryName)),1))],64)):D("",!0),(f(!0),v(B,null,K(t.addonList,g=>(f(),v(B,null,[t.isIframe&&g.headerAbove&&(t.hasNoResults||g.group.id==="enabled")?j((f(),v("div",Xd,[r("span",null,x(t.msg("exploreAllAddons",[t.addonAmt])),1),r("button",{class:"large-button",onClick:e[6]||(e[6]=m=>t.openFullSettings())},x(t.msg("openFullSettings")),1)],512)),[[ne,t.searchInput===""]]):D("",!0),g.headerAbove?(f(),be(d,{key:1,group:g.group,"shown-count":t.groupShownCount(g.group),"margin-above":t.groupMarginAbove(g.group)},null,8,["group","shown-count","margin-above"])):D("",!0),Pt(l,{visible:g.matchesSearch&&g.matchesCategory,addon:g.manifest,"group-id":g.group.id,"group-expanded":g.group.expanded},null,8,["visible","addon","group-id","group-expanded"])],64))),256))],2)])]),Pt(c,{class:"more-settings",modelValue:t.moreSettingsOpen,"onUpdate:modelValue":e[14]||(e[14]=g=>t.moreSettingsOpen=g),title:t.msg("moreSettings")},{default:ns(()=>[r("div",Kd,[r("div",qd,[r("div",Jd,[r("span",Zd,[Qd,re(" "+x(t.msg("scratchAddonsTheme")),1)])]),r("div",ec,[r("span",tc,x(t.msg("scratchAddonsThemeDescription")),1),r("div",nc,[r("div",sc,[r("div",oc,x(t.msg("theme")),1),r("div",ic,[r("div",{class:z(["filter-option",{sel:t.theme===!0}]),onClick:e[7]||(e[7]=g=>t.setTheme(!0))},x(t.msg("light")),3),r("div",{class:z(["filter-option",{sel:t.theme===!1}]),onClick:e[8]||(e[8]=g=>t.setTheme(!1))},x(t.msg("dark")),3)])])])])]),r("div",ac,[r("div",rc,[r("span",lc,[r("img",{src:Md,class:z(["icon-type",{dark:t.theme===!1}])},null,2),re(" "+x(t.msg("exportAndImportSettings")),1)])]),r("div",dc,[r("span",cc,x(t.msg("exportAndImportSettingsDescription")),1),r("span",uc,x(t.msg("useBrowserSync")),1),r("div",hc,[r("div",gc,[r("button",{class:"large-button",onClick:e[9]||(e[9]=g=>t.exportSettings())},x(t.msg("export")),1)]),r("div",mc,[r("button",{class:"large-button",onClick:e[10]||(e[10]=g=>t.importSettings())},x(t.msg("import")),1),r("button",fc,x(t.msg("confirmImport")),1)]),r("div",pc,[r("button",{class:"large-button",onClick:e[11]||(e[11]=g=>t.viewSettings())},x(t.msg("viewSettings")),1)])])])]),r("div",vc,[r("div",bc,[r("span",yc,[wc,re(x(t.msg("language")),1)])]),r("div",_c,[r("div",Sc,[j(r("input",{type:"checkbox",class:"setting-input check","onUpdate:modelValue":e[12]||(e[12]=g=>t.forceEnglishSetting=g),style:{"margin-inline-start":"0","margin-inline-end":"8px"}},null,512),[[ts,t.forceEnglishSetting]]),xc,r("div",Ec,x(t.msg("beta")),1),j(r("button",{class:"large-button",id:"applyLanguageSettingsButton",onClick:e[13]||(e[13]=g=>t.applyLanguageSettings()),style:{"margin-inline-start":"16px"}},x(t.msg("applySettings")),513),[[ne,t.forceEnglishSetting!==null&&t.forceEnglishSetting!==this.forceEnglishSettingInitial]])])])])]),r("div",Mc,[r("p",null,[re(x(t.msg("extensionName"))+" ",1),r("a",{href:"https://scratchaddons.com/changelog",title:"{{ msg('changelog') }}",target:"_blank"}," v"+x(t.version),9,kc)]),r("p",null,[r("a",Ic,x(t.msg("libraryCredits")),1)])])]),_:1},8,["modelValue","title"]),j(r("div",Cc,[r("div",Tc,x(t.msg("settingsPagePermission",t.addonToEnable?t.addonToEnable.name:"")),1),r("div",null,[r("button",{class:"large-button",onClick:e[15]||(e[15]=g=>t.openFullSettings())},x(t.msg("openFullSettings")),1),r("button",{class:"large-button",onClick:e[16]||(e[16]=g=>t.hidePopup())},x(t.msg("skipOpenFullSettings")),1)])],512),[[ne,t.showPopupModal]])],64)}const Oc=we(kd,[["render",$c]]);document.documentElement.lang=chrome.i18n.getUILanguage();document.body.dir=wn(chrome.i18n.getUILanguage());const Ps=Ws(Oc);Ps.directive("click-outside",{mounted:function(t,e,n){t.addEventListener("click",s=>s.stopPropagation()),t.addEventListener("click",s=>s.stopPropagation()),t.controlled=e.value.prevent,t.clickOutsideEvent=function(s){!(t==s.target||t.contains(s.target))&&!t.controlled&&e.value(s)},document.body.addEventListener("click",t.clickOutsideEvent)},unmounted:function(t){document.body.removeEventListener("click",t.clickOutsideEvent)}});Ps.mount("#app");
